## æ–­ç‚¹è°ƒè¯•

[^æ­¥éª¤]: æ–­ç‚¹è°ƒè¯•æ˜¯æŒ‡è‡ªå·±åœ¨ç¨‹åºçš„æŸä¸€è¡Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œè°ƒè¯•æ—¶ï¼Œç¨‹åºè¿è¡Œåˆ°è¿™ä¸€è¡Œå°±ä¼šåœä½ï¼Œç„¶åä½ å¯ä»¥ä¸€æ­¥ä¸€æ­¥å¾€ä¸‹è°ƒè¯•ï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­å¯ä»¥çœ‹å„ä¸ªå˜é‡å½“å‰çš„å€¼ï¼Œå‡ºé”™çš„è¯ï¼Œè°ƒè¯•åˆ°å‡ºé”™çš„ä»£ç è¡Œå³æ˜¾ç¤ºé”™è¯¯ï¼Œåœä¸‹ã€‚

## æ•°ç»„å»é‡

### ES5å®ç°

1. filter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ–°æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡æ£€æŸ¥æŒ‡å®šæ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ã€‚
2. indexOf() æ–¹æ³•å¯è¿”å›æ•°ç»„ä¸­æŸä¸ªæŒ‡å®šçš„å…ƒç´ ä½ç½®ã€‚

```JavaScript
var arr = [1,2,2,3,4,55,55]
function unique(arr) {
    var res = arr.filter(function(item, index, array) {
        return array.indexOf(item) === index
    })
    return res
}
console.log(unique(arr)) //[1,2,3,55]
```

### ES6å®ç°

1ã€setæ˜¯ES6ä¸­å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ã€‚setåªå…è®¸å­˜å‚¨ä¸é‡å¤çš„å€¼ï¼Œæ‰€ä»¥å½“ä½ æ”¾å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒä¼šè‡ªåŠ¨å»æ‰é‡å¤çš„å€¼ã€‚

2ã€...æ˜¯æ‰©å±•è¿ç®—ç¬¦ï¼ˆå¯¹è±¡å±•å¼€ç¬¦ï¼‰

```javascript
var unique = arr => [...new Set(arr)]
console.log(unique(arr)) //[1,2,3,55]
```

å°†ä¸Šé¢çš„ä»£ç è§£æä¸€ä¸‹ï¼Œæ€•å¿˜æ‰ï¼š

```javascript
var unique = function (arr){
  // ä¸¤ç§è½¬å›æ•°ç»„çš„æ–¹æ³•(1.[],2.Array.from)ï¼Œsetæ˜¯ES6ä¸­å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ã€‚setåªå…è®¸å­˜å‚¨ä¸é‡å¤çš„å€¼ï¼Œæ‰€ä»¥å½“ä½ æ”¾å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒä¼šè‡ªåŠ¨å»æ‰é‡å¤çš„å€¼ã€‚
  return [...new Set(arr)];
  // return Array.from(new Set(arr))
}
console.log(unique(arr));
```

### æ‰©å±•

æ‰©å±•è¿ç®—ç¬¦ä¸ä»…å¯ä»¥æ•°ç»„å»é‡ï¼Œè¿˜å¯ä»¥åˆå¹¶æ•°ç»„

```javascript
let a=[1,2,3]
let b=[2,3,4]
let c=[...a,...b]
console.log(c) // [1,2,3,2,3,4]
var unique = arr => [...new Set(arr)]
console.log(unique(c))//[1,2,3,4]
```

## 1.å‡½æ•°æŸ¯é‡ŒåŒ–

å‡½æ•°æŸ¯é‡ŒåŒ–çš„æ˜¯ä¸€ä¸ªä¸ºå¤šå‚å‡½æ•°å®ç°é€’å½’é™è§£çš„æ–¹å¼ã€‚å…¶å®ç°çš„æ ¸å¿ƒæ˜¯:

1. è¦æ€è€ƒå¦‚ä½•ç¼“å­˜æ¯ä¸€æ¬¡ä¼ å…¥çš„å‚æ•°
2. ä¼ å…¥çš„å‚æ•°å’Œç›®æ ‡å‡½æ•°çš„å…¥å‚åšæ¯”è¾ƒ

è¿™é‡Œé€šè¿‡é—­åŒ…çš„æ–¹å¼ç¼“å­˜å‚æ•°ï¼Œå®ç°å¦‚ä¸‹ï¼š

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

> å‡½æ•°æŸ¯é‡ŒåŒ–ä»…ä»…åªæ˜¯ä¸Šé¢æ±‚å’Œçš„è¿™ç§è¿ç”¨å—ï¼Ÿï¼Ÿ

ğŸ‘†è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å¿…è¦å»ğŸ¤”ä¸€ä¸‹ã€‚å…¶å®åˆ©ç”¨å‡½æ•°æŸ¯é‡ŒåŒ–è¿™ç§æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½çš„å®ç°å‡½æ•°çš„å°è£…ã€‚

å°±æ¯”å¦‚æœ‰ç›‘å¬æŸä¸€äº‹ä»¶é‚£ä¹ˆå°±ä¼šæœ‰ç§»é™¤è¯¥äº‹ä»¶çš„æ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨æŸ¯é‡ŒåŒ–çš„æ€æƒ³å»å°è£…ä»£ç äº†ã€‚

æˆ–è€…è¯´ä¸€ä¸ªè¾“å…¥ A æœ‰å”¯ä¸€å¹¶ä¸”å¯¹åº”çš„è¾“å‡º Bï¼Œé‚£ä¹ˆä»æ›´å¤§çš„è§’åº¦å»æ€æƒ³è¿™æ ·çš„å·¥ç¨‹é¡¹ç›®æ˜¯æ›´å®‰å…¨ï¼Œç‹¬ç«‹çš„ã€‚ä¹Ÿä¾¿äºå»ç»´æŠ¤ã€‚

## 2.å…³äºæ•°ç»„

### æ‰‹å†™ map æ–¹æ³•

map() æ–¹æ³•æ ¹æ®å›è°ƒå‡½æ•°æ˜ å°„ä¸€ä¸ªæ–°æ•°ç»„

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### æ‰‹å†™ filter æ–¹æ³•

filter() æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›çš„æ¯ä¸€é¡¹æ˜¯åœ¨å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œç»“æœ trueã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

> filter å’Œ map çš„åŒºåˆ«ï¼šfilter æ˜¯æ˜ å°„å‡ºæ¡ä»¶ä¸º true çš„ itemï¼Œmap æ˜¯æ˜ å°„æ¯ä¸€ä¸ª itemã€‚

### æ‰‹å†™ reduce æ–¹æ³•

reduce() æ–¹æ³•å¾ªç¯è¿­ä»£ï¼Œå›è°ƒå‡½æ•°çš„ç»“æœéƒ½ä¼šä½œä¸ºä¸‹ä¸€æ¬¡çš„å½¢å‚çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### æ‰‹å†™ every æ–¹æ³•

every() æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### æ‰‹å†™ some æ–¹æ³•

some() æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰ 1 ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª Boolean ç±»å‹çš„å€¼ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### æ‰‹å†™ find æ–¹æ³•

find() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefinedã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### æ‹‰å¹³æ•°ç»„

å°†åµŒå¥—çš„æ•°ç»„æ‰å¹³åŒ–ï¼Œåœ¨å¤„ç†ä¸šåŠ¡æ•°æ®åœºæ™¯ä¸­æ˜¯é¢‘ç‡å‡ºç°æ¯”è¾ƒé«˜çš„ã€‚é‚£å¦‚ä½•å®ç°å‘¢ï¼Ÿ

- åˆ©ç”¨ ES6 è¯­æ³• flat(num) æ–¹æ³•å°†æ•°ç»„æ‹‰å¹³ã€‚

è¯¥æ–¹æ³•ä¸ä¼ å‚æ•°é»˜è®¤åªä¼šæ‹‰å¹³ä¸€å±‚ï¼Œå¦‚æœæƒ³æ‹‰å¹³å¤šå±‚åµŒå¥—çš„æ•°ç»„ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦æ‹‰å¹³çš„å±‚çº§ã€‚è¯¥è¿”å›è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¯¹åŸæ•°ç»„æ²¡æœ‰å½±å“ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

- åˆ©ç”¨ reduce() æ–¹æ³•å°†æ•°ç»„æ‹‰å¹³ã€‚

åˆ©ç”¨ reduce è¿›è¡Œè¿­ä»£ï¼Œæ ¸å¿ƒçš„æ€æƒ³æ˜¯é€’å½’å®ç°ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

- æ¨¡æ‹Ÿæ ˆå®ç°æ•°ç»„æ‹‰å¹³

è¯¥æ–¹æ³•æ˜¯æ¨¡æ‹Ÿæ ˆï¼Œåœ¨æ€§èƒ½ä¸Šç›¸å¯¹æœ€ä¼˜è§£ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 3.å›¾ç‰‡æ‡’åŠ è½½ & æƒ°æ€§å‡½æ•°

å®ç°å›¾ç‰‡æ‡’åŠ è½½å…¶æ ¸å¿ƒçš„æ€æƒ³å°±æ˜¯å°† img çš„ src å±æ€§å…ˆä½¿ç”¨ä¸€å¼ æœ¬åœ°å ä½ç¬¦ï¼Œæˆ–è€…ä¸ºç©ºã€‚ç„¶åçœŸå®çš„å›¾ç‰‡è·¯å¾„å†å®šä¹‰ä¸€ä¸ª data-set å±æ€§å­˜èµ·æ¥ï¼Œå¾…è¾¾åˆ°ä¸€å®šæ¡ä»¶çš„æ—¶å°† data-img çš„å±æ€§å€¼èµ‹ç»™ srcã€‚

å¦‚ä¸‹æ˜¯é€šè¿‡`scroll`æ»šåŠ¨äº‹ä»¶ç›‘å¬æ¥å®ç°çš„å›¾ç‰‡æ‡’åŠ è½½ï¼Œå½“å›¾ç‰‡éƒ½åŠ è½½å®Œæ¯•ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œå¹¶ä¸”å°†ç§»é™¤ html æ ‡ç­¾ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

`scroll`æ»šåŠ¨äº‹ä»¶å®¹æ˜“é€ æˆæ€§èƒ½é—®é¢˜ã€‚é‚£å¯ä»¥é€šè¿‡ `IntersectionObserver` è‡ªåŠ¨è§‚å¯Ÿ img æ ‡ç­¾æ˜¯å¦è¿›å…¥å¯è§†åŒºåŸŸã€‚

å®ä¾‹åŒ– IntersectionObserver å®ä¾‹ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šcallback æ˜¯å¯è§æ€§å˜åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œoption æ˜¯é…ç½®å¯¹è±¡ï¼ˆè¯¥å‚æ•°å¯é€‰ï¼‰ã€‚

å½“ img æ ‡ç­¾è¿›å…¥å¯è§†åŒºåŸŸæ—¶ä¼šæ‰§è¡Œå®ä¾‹åŒ–æ—¶çš„å›è°ƒï¼ŒåŒæ—¶ç»™å›è°ƒä¼ å…¥ä¸€ä¸ª entries å‚æ•°ï¼Œä¿å­˜ç€å®ä¾‹è§‚å¯Ÿçš„æ‰€æœ‰å…ƒç´ çš„ä¸€äº›çŠ¶æ€ï¼Œæ¯”å¦‚æ¯ä¸ªå…ƒç´ çš„è¾¹ç•Œä¿¡æ¯ï¼Œå½“å‰å…ƒç´ å¯¹åº”çš„ DOM èŠ‚ç‚¹ï¼Œå½“å‰å…ƒç´ è¿›å…¥å¯è§†åŒºåŸŸçš„æ¯”ç‡ï¼Œæ¯å½“ä¸€ä¸ªå…ƒç´ è¿›å…¥å¯è§†åŒºåŸŸï¼Œå°†çœŸæ­£çš„å›¾ç‰‡èµ‹å€¼ç»™å½“å‰ img æ ‡ç­¾ï¼ŒåŒæ—¶è§£é™¤å¯¹å…¶çš„è§‚å¯Ÿã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

å¦‚ä¸Šæ˜¯æ‡’åŠ è½½å›¾ç‰‡çš„å®ç°æ–¹å¼ã€‚

> å€¼å¾—æ€è€ƒçš„æ˜¯ï¼Œæ‡’åŠ è½½å’Œæƒ°æ€§å‡½æ•°æœ‰ä»€ä¹ˆä¸ä¸€æ ·å˜›ï¼Ÿ

æˆ‘æ‰€ç†è§£çš„æ‡’åŠ è½½é¡¾åæ€ä¹‰å°±æ˜¯éœ€è¦äº†æ‰å»åŠ è½½ï¼Œæ‡’åŠ è½½æ­£æ˜¯æƒ°æ€§çš„ä¸€ç§ï¼Œä½†æƒ°æ€§å‡½æ•°ä¸ä»…ä»…æ˜¯æ‡’åŠ è½½ï¼Œå®ƒè¿˜å¯ä»¥åŒ…å«å¦å¤–ä¸€ç§æ–¹å‘ã€‚

æƒ°æ€§å‡½æ•°çš„å¦ä¸€ç§æ–¹å‘æ˜¯åœ¨é‡å†™å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨å‡½æ•°çš„æ—¶å€™æ— éœ€åœ¨åšä¸€äº›æ¡ä»¶çš„åˆ¤æ–­ï¼Œåˆ¤æ–­æ¡ä»¶åœ¨åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡å°±å¥½äº†ï¼Œå³ä¸‹æ¬¡åœ¨åŒæ ·çš„æ¡ä»¶è¯­å¥ä¸éœ€è¦å†æ¬¡åˆ¤æ–­äº†ï¼Œæ¯”å¦‚åœ¨äº‹ä»¶ç›‘å¬ä¸Šçš„å…¼å®¹ã€‚

## 4.é¢„åŠ è½½

é¢„åŠ è½½é¡¾åæ€ä¹‰å°±æ˜¯æå‰åŠ è½½ï¼Œæ¯”å¦‚æå‰åŠ è½½å›¾ç‰‡ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

å½“ç”¨æˆ·éœ€è¦æŸ¥çœ‹æ—¶ï¼Œå¯ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­å–ã€‚é¢„åŠ è½½çš„ä¼˜ç‚¹åœ¨äºå¦‚æœä¸€å¼ å›¾ç‰‡è¿‡å¤§ï¼Œé‚£ä¹ˆè¯·æ±‚åŠ è½½å›¾ç‰‡ä¸€å®šä¼šæ…¢ï¼Œé¡µé¢ä¼šå‡ºç°ç©ºç™½çš„ç°è±¡ï¼Œç”¨æˆ·ä½“éªŒæ„Ÿå°±å˜å·®äº†ï¼Œä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒï¼Œå…ˆæå‰åŠ è½½å›¾ç‰‡åˆ°æœ¬åœ°ç¼“å­˜ï¼Œå½“ç”¨æˆ·ä¸€æ‰“å¼€é¡µé¢æ—¶å°±ä¼šçœ‹åˆ°å›¾ç‰‡ã€‚

## 5.èŠ‚æµ & é˜²æŠ–

é’ˆå¯¹é«˜é¢‘çš„è§¦å‘çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šæ€è€ƒé€šè¿‡èŠ‚æµæˆ–è€…é˜²æŠ–å»å®ç°æ€§èƒ½ä¸Šçš„ä¼˜åŒ–ã€‚

èŠ‚æµå®ç°åŸç†æ˜¯é€šè¿‡å®šæ—¶å™¨ä»¥å’Œæ—¶é—´å·®åšåˆ¤æ–­ã€‚å®šæ—¶å™¨æœ‰å»¶è¿Ÿçš„èƒ½åŠ›ï¼Œäº‹ä»¶ä¸€å¼€å§‹ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œäº‹ä»¶ç»“æŸåè¿˜ä¼šå†æ‰§è¡Œä¸€æ¬¡ï¼›è€Œæ—¶é—´å·®äº‹ä»¶ä¸€å¼€å§‹å°±ç«‹å³æ‰§è¡Œï¼Œæ—¶é—´ç»“æŸä¹‹åä¹Ÿä¼šç«‹å³åœæ­¢ã€‚

ç»“åˆä¸¤è€…çš„ç‰¹æ€§å°è£…èŠ‚æµå‡½æ•°ï¼š

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

å‡½æ•°èŠ‚æµä¸ç®¡äº‹ä»¶è§¦å‘æœ‰å¤šé¢‘ç¹ï¼Œéƒ½ä¼šä¿è¯åœ¨è§„å®šæ—¶é—´å†…ä¸€å®šä¼šæ‰§è¡Œä¸€æ¬¡çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚

é˜²æŠ–å®ç°åŸç†æ˜¯é€šè¿‡å®šæ—¶å™¨ï¼Œå¦‚æœåœ¨è§„å®šæ—¶é—´å†…å†æ¬¡è§¦å‘äº‹ä»¶ä¼šå°†ä¸Šæ¬¡çš„å®šæ—¶å™¨æ¸…é™¤ï¼Œå³ä¸ä¼šæ‰§è¡Œå‡½æ•°å¹¶é‡æ–°è®¾ç½®ä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œç›´åˆ°è¶…è¿‡è§„å®šæ—¶é—´è‡ªåŠ¨è§¦å‘å®šæ—¶å™¨ä¸­çš„å‡½æ•°ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 6.å®ç° new å…³é”®å­—

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 7.å®ç° instanceof

instanceof è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ `prototype` å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 8.å®ç° callï¼Œapplyï¼Œbind

- call

call å‡½æ•°å®ç°çš„åŸç†æ˜¯å€Ÿç”¨æ–¹æ³•ï¼Œå…³é”®åœ¨äºéšå¼æ”¹å˜`this`çš„æŒ‡å‘ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

- apply

apply å‡½æ•°å®ç°çš„åŸç†å’Œ call æ˜¯ç›¸åŒçš„ï¼Œå…³é”®åœ¨äºå‚æ•°çš„å¤„ç†å’Œåˆ¤æ–­ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

> call() æ–¹æ³•çš„ä½œç”¨å’Œ apply() æ–¹æ³•ç±»ä¼¼ï¼ŒåŒºåˆ«å°±æ˜¯ call() æ–¹æ³•æ¥å—çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œè€Œ apply() æ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå‚æ•°æ•°ç»„ã€‚

- bind

bind() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ bind() è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ this è¢«æŒ‡å®šä¸º bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°ï¼Œä¾›è°ƒç”¨æ—¶ä½¿ç”¨ã€‚

å®ç°çš„å…³é”®æ€è·¯ï¼š

1. æ‹·è´ä¿å­˜åŸå‡½æ•°ï¼Œæ–°å‡½æ•°å’ŒåŸå‡½æ•°åŸå‹é“¾æ¥
2. ç”Ÿæˆæ–°çš„å‡½æ•°ï¼Œåœ¨æ–°å‡½æ•°é‡Œè°ƒç”¨åŸå‡½æ•°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 9.å°è£…æ•°æ®ç±»å‹å‡½æ•°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 10.è‡ªè®°å¿†å‡½æ•°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 11.æ˜¯å¦å­˜åœ¨å¾ªç¯å¼•ç”¨

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 12.æ‹·è´å‡½æ•°

æ‹·è´æ•°æ®ä¸€ç›´æ˜¯ä¸šåŠ¡å¼€å‘ä¸­ç»•ä¸å¼€çš„æŠ€å·§ï¼Œå¯¹äºæ·±æµ…æ‹·è´æ•°æ®ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« æ¥è®²è¿°èŠèŠæ·±æ‹·è´æµ…æ‹·è´ã€‚

- é€šè¿‡æ·±åº¦ä¼˜å…ˆæ€ç»´æ‹·è´æ•°æ®ï¼ˆDFSï¼‰

æ·±åº¦ä¼˜å…ˆæ˜¯é€šè¿‡çºµå‘çš„ç»´åº¦å»æ€è€ƒé—®é¢˜ï¼Œåœ¨å¤„ç†è¿‡ç¨‹ä¸­ä¹Ÿè€ƒè™‘åˆ°å¯¹è±¡ç¯çš„é—®é¢˜ã€‚

è§£å†³å¯¹è±¡ç¯çš„æ ¸å¿ƒæ€è·¯æ˜¯å…ˆå­˜å†æ‹·è´ã€‚ä¸€å¼€å§‹å…ˆé€šè¿‡ä¸€ä¸ªå®¹å™¨ç”¨æ¥å‚¨å­˜åŸæ¥çš„å¯¹è±¡å†è¿›è¡Œæ‹·è´ï¼Œåœ¨æ¯ä¸€æ¬¡æ‹·è´ä¹‹å‰å»æŸ¥æ‰¾å®¹å™¨é‡Œæ˜¯å¦å·²å­˜åœ¨è¯¥å¯¹è±¡ã€‚è¿™æ ·å°±åˆ‡æ–­äº†åŸæ¥çš„å¯¹è±¡å’Œæ‹·è´å¯¹è±¡çš„è”ç³»ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

- é€šè¿‡å¹¿åº¦ä¼˜å…ˆæ€ç»´æ‹·è´æ•°æ®ï¼ˆBFSï¼‰

å¹¿åº¦ä¼˜å…ˆæ˜¯é€šè¿‡æ¨ªå‘çš„ç»´åº¦å»æ€è€ƒé—®é¢˜ï¼Œé€šè¿‡åˆ›é€ æºé˜Ÿåˆ—å’Œæ‹·è´æ•°ç»„é˜Ÿåˆ—ä¹‹é—´çš„å…³ç³»å®ç°æ‹·è´ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 13.Promise ç³»åˆ—

ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…³äº Promise çš„å­¦ä¹ åˆ†äº«ã€‚

### Promsie.all

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### Promsie.race

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

### Promsie.finally

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 14.å®ç° async-await

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 15.å®ç°ç®€æ˜“è®¢é˜… - å‘å¸ƒ

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 16.å•ä¾‹æ¨¡å¼

å•ä¾‹æ¨¡å¼ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚å®ç°æ–¹æ³•ä¸€èˆ¬æ˜¯å…ˆåˆ¤æ–­å®ä¾‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸å­˜åœ¨å°±å…ˆåˆ›å»ºå†è¿”å›ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 17.å®ç° Object.create

Object.create() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„__proto__ã€‚

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

è¯¥æ–¹æ³•æ˜¯å®ç°äº†å·²æœ‰å¯¹è±¡å’Œæ–°å»ºå¯¹è±¡çš„åŸå‹æ˜¯ä¸€ä¸ªæµ…æ‹·è´çš„è¿‡ç¨‹ã€‚

## 18.å®ç° ES6 çš„ class è¯­æ³•

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

ä½¿ç”¨ Object.create() æ–¹æ³•å°†å­ç±»çš„å®ä¾‹å¯¹è±¡ç»§æ‰¿ä¸çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡ Object.setPrototypeOf() èƒ½å¤Ÿå®ç°ä»çˆ¶ç±»ä¸­ç»§æ‰¿é™æ€æ–¹æ³•å’Œé™æ€å±æ€§ã€‚

## 19.å®ç°ä¸€ä¸ª compose å‡½æ•°

compose å‡½æ•°æ˜¯ç”¨æ¥ç»„åˆåˆå¹¶å‡½æ•°ï¼Œæœ€åè¾“å‡ºå€¼çš„æ€æƒ³ã€‚åœ¨ redux æºç ä¸­ç”¨äºä¸­é—´ä»¶çš„å¤„ç†ã€‚

- ä½¿ç”¨ while å¾ªç¯å®ç°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

- ä½¿ç”¨ reduce è¿­ä»£å®ç°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 20.å®ç°å¼‚æ­¥å¹¶è¡Œå‡½æ•°

fn æ˜¯ä¸€ä¸ªè¿”å› Promise çš„å‡½æ•°æ‰å¯ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°ï¼š

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

fn ä¸æ˜¯ä¸€ä¸ªè¿”å› Promsie çš„è¯é‚£å°±åŒ…ä¸€å±‚ï¼š

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 21.å®ç°å¼‚æ­¥ä¸²è¡Œå‡½æ•°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

## 22.ç§æœ‰å˜é‡çš„å®ç°

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

ä»¥ä¸Šæ˜¯ es5 å®ç°çš„ç§æœ‰å˜é‡çš„å°è£…ï¼Œé€šè¿‡ä½¿ç”¨ WeakMap å¯ä»¥æ‰©å±•æ¯ä¸ªå®ä¾‹æ‰€å¯¹åº”çš„ç§æœ‰å±æ€§ï¼Œç§æœ‰å±æ€§åœ¨å¤–éƒ¨æ— æ³•è¢«è®¿é—®ï¼Œè€Œä¸”éš this å¯¹è±¡çš„é”€æ¯å’Œæ¶ˆå¤±ã€‚

è¿™é‡Œæœ‰ä¸ªå°ç»†èŠ‚å€¼å¾—ä¸€æ, è¯·çœ‹å¦‚ä¸‹çš„ä»£ç ï¼š

![å›¾ç‰‡](C:\Users\Administrator\Desktop\é¡¹ç›®ç¬”è®°\JavaScriptçŸ¥è¯†æŠ€å·§\640)

å¦‚ä¸Šæ˜¯æŒ‚åœ¨åˆ°åŸå‹ä¸Šçš„æ–¹æ³•å’Œæ¯ä¸ªå®ä¾‹ç‹¬æœ‰çš„æ–¹æ³•ä¸åŒå†™æ³•ã€‚å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿï¼ˆps: å¯ä»¥æ‰‹åŠ¨æ‰“å°ï¼‰

è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•é‚£ä¹ˆç§æœ‰å˜é‡çš„å€¼æ˜¯ä¸æœ€è¿‘ä¸€ä¸ªå®ä¾‹è°ƒç”¨åŸå‹æ–¹æ³•çš„å€¼ã€‚å…¶ä¸Šä¸€ä¸ªå®ä¾‹çš„å€¼ä¹Ÿæ˜¯éšä¹‹æ”¹å˜çš„ï¼Œé‚£ä¹ˆå°±å‡ºç°é—®é¢˜äº†...

è€Œä½¿ç”¨ WeakMap å¯ä»¥è§£å†³å¦‚ä¸Šçš„é—®é¢˜ï¼šåšåˆ°å°†æ–¹æ³•æŒ‚åœ¨åˆ°åŸå‹ï¼Œä¸”ä¸åŒæ—¶æœŸåŒä¸€ä¸ªå®ä¾‹è°ƒç”¨æ‰€äº§ç”Ÿçš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚



## \1. å¸¦æœ‰å¤šä¸ªæ¡ä»¶çš„ if è¯­å¥



æŠŠå¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç„¶åè°ƒç”¨æ•°ç»„çš„ includes æ–¹æ³•ã€‚

```
//longhand
if (x === 'abc' || x === 'def' || x === 'ghi' || x ==='jkl') {
    //logic
}
//shorthand
if (['abc', 'def', 'ghi', 'jkl'].includes(x)) {
   //logic
}
```

## \2. ç®€åŒ– if true...else



å¯¹äºä¸åŒ…å«å¤§é€»è¾‘çš„ if-else æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å¿«æ·å†™æ³•ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ¥å®ç°è¿™ç§ç®€åŒ–ã€‚

```
// Longhand
let test: boolean;
if (x > 100) {
    test = true;
} else {
    test = false;
}
// Shorthand
let test = (x > 10) ? true : false;
//or we can use directly
let test = x > 10;
console.log(test);
```

å¦‚æœæœ‰åµŒå¥—çš„æ¡ä»¶ï¼Œå¯ä»¥è¿™ä¹ˆåšã€‚

```
let x = 300,
test2 = (x > 100) ? 'greater 100' : (x < 50) ? 'less 50' : 'between 50 and 100';
console.log(test2); // "greater than 100"
```

## \3. å£°æ˜å˜é‡



å½“æˆ‘ä»¬æƒ³è¦å£°æ˜ä¸¤ä¸ªå…·æœ‰ç›¸åŒçš„å€¼æˆ–ç›¸åŒç±»å‹çš„å˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§ç®€å†™ã€‚

```
//Longhand 
let test1;
let test2 = 1;
//Shorthand 
let test1, test2 = 1;
```

## \4. nullã€undefined å’Œç©ºå€¼æ£€æŸ¥



å½“æˆ‘ä»¬åˆ›å»ºäº†æ–°å˜é‡ï¼Œæœ‰æ—¶å€™æƒ³è¦æ£€æŸ¥å¼•ç”¨çš„å˜é‡æ˜¯ä¸æ˜¯ä¸ºé null æˆ– undefinedã€‚JavaScript ç¡®å®æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¿«æ·æ–¹å¼æ¥å®ç°è¿™ç§æ£€æŸ¥ã€‚

```
// Longhand
if (test1 !== null || test1 !== undefined || test1 !== '') {
    let test2 = test1;
}
// Shorthand
let test2 = test1 || '';
```

## \5. null æ£€æŸ¥å’Œé»˜è®¤èµ‹å€¼



```
let test1 = null,
    test2 = test1 || '';
console.log("null check", test2); // output will be ""
```

## \6. undefined æ£€æŸ¥å’Œé»˜è®¤èµ‹å€¼



```
let test1 = undefined,
    test2 = test1 || '';
console.log("undefined check", test2); // output will be ""
```

ä¸€èˆ¬å€¼æ£€æŸ¥

```
let test1 = 'test',
    test2 = test1 || '';
console.log(test2); // output: 'test'
```

å¦å¤–ï¼Œå¯¹äºä¸Šè¿°çš„ 4ã€5ã€6 ç‚¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨?? æ“ä½œç¬¦ã€‚

å¦‚æœå·¦è¾¹å€¼ä¸º null æˆ– undefinedï¼Œå°±è¿”å›å³è¾¹çš„å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†è¿”å›å·¦è¾¹çš„å€¼ã€‚

```
const test= null ?? 'default';
console.log(test);
// expected output: "default"
const test1 = 0 ?? 2;
console.log(test1);
// expected output: 0
```

## \7. ç»™å¤šä¸ªå˜é‡èµ‹å€¼



å½“æˆ‘ä»¬æƒ³ç»™å¤šä¸ªä¸åŒçš„å˜é‡èµ‹å€¼æ—¶ï¼Œè¿™ç§æŠ€å·§éå¸¸æœ‰ç”¨ã€‚

```
//Longhand 
let test1, test2, test3;
test1 = 1;
test2 = 2;
test3 = 3;
//Shorthand 
let [test1, test2, test3] = [1, 2, 3];
```

## \8. ç®€ä¾¿çš„èµ‹å€¼æ“ä½œç¬¦



åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¦å¤„ç†å¤§é‡çš„ç®—æœ¯è¿ç®—ç¬¦ã€‚è¿™æ˜¯ JavaScript å˜é‡èµ‹å€¼æ“ä½œç¬¦çš„æœ‰ç”¨æŠ€å·§ä¹‹ä¸€ã€‚

```
// Longhand
test1 = test1 + 1;
test2 = test2 - 1;
test3 = test3 * 20;
// Shorthand
test1++;
test2--;
test3 *= 20;
```

## \9. if åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨



è¿™æ˜¯æˆ‘ä»¬éƒ½åœ¨ä½¿ç”¨çš„ä¸€ç§å¸¸ç”¨çš„ç®€ä¾¿æŠ€å·§ï¼Œåœ¨è¿™é‡Œä»ç„¶å€¼å¾—å†æä¸€ä¸‹ã€‚

```
// Longhand
if (test1 === true) or if (test1 !== "") or if (test1 !== null)
// Shorthand //it will check empty string,null and undefined too
if (test1)
```

æ³¨æ„ï¼šå¦‚æœ test1 æœ‰å€¼ï¼Œå°†æ‰§è¡Œ if ä¹‹åçš„é€»è¾‘ï¼Œè¿™ä¸ªæ“ä½œç¬¦ä¸»è¦ç”¨äº null æˆ– undefinded æ£€æŸ¥ã€‚

## \10. ç”¨äºå¤šä¸ªæ¡ä»¶åˆ¤æ–­çš„ && æ“ä½œç¬¦



å¦‚æœåªåœ¨å˜é‡ä¸º true æ—¶æ‰è°ƒç”¨å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ && æ“ä½œç¬¦ã€‚

```
//Longhand 
if (test1) {
 callMethod(); 
} 
//Shorthand 
test1 && callMethod();
```



## \11. for each å¾ªç¯



è¿™æ˜¯ä¸€ç§å¸¸è§çš„å¾ªç¯ç®€åŒ–æŠ€å·§ã€‚

```
// Longhand
for (var i = 0; i < testData.length; i++)
// Shorthand
for (let i in testData) or  for (let i of testData)
```

éå†æ•°ç»„çš„æ¯ä¸€ä¸ªå˜é‡ã€‚

```
function testData(element, index, array) {
  console.log('test[' + index + '] = ' + element);
}
[11, 24, 32].forEach(testData);
// logs: test[0] = 11, test[1] = 24, test[2] = 32
```



## \12. æ¯”è¾ƒåè¿”å›



æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ return è¯­å¥ä¸­ä½¿ç”¨æ¯”è¾ƒï¼Œå®ƒå¯ä»¥å°† 5 è¡Œä»£ç å‡å°‘åˆ° 1 è¡Œã€‚

```
// Longhand
let test;
function checkReturn() {
    if (!(test === undefined)) {
        return test;
    } else {
        return callMe('test');
    }
}
var data = checkReturn();
console.log(data); //output test
function callMe(val) {
    console.log(val);
}
// Shorthand
function checkReturn() {
    return test || callMe('test');
}
```



## \13. ç®­å¤´å‡½æ•°



```
//Longhand 
function add(a, b) { 
   return a + b; 
} 
//Shorthand 
const add = (a, b) => a + b;
```

æ›´å¤šä¾‹å­ï¼š

```
function callMe(name) {
  console.log('Hello', name);
}
callMe = name => console.log('Hello', name);
```



## \14. ç®€çŸ­çš„å‡½æ•°è°ƒç”¨



æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦æ¥å®ç°å¤šä¸ªå‡½æ•°è°ƒç”¨ã€‚

```
// Longhand
function test1() {
  console.log('test1');
};
function test2() {
  console.log('test2');
};
var test3 = 1;
if (test3 == 1) {
  test1();
} else {
  test2();
}
// Shorthand
(test3 === 1? test1:test2)();
```



## \15. switch ç®€åŒ–



æˆ‘ä»¬å¯ä»¥å°†æ¡ä»¶ä¿å­˜åœ¨é”®å€¼å¯¹è±¡ä¸­ï¼Œå¹¶æ ¹æ®æ¡ä»¶æ¥è°ƒç”¨å®ƒä»¬ã€‚

```
// Longhand
switch (data) {
  case 1:
    test1();
  break;
  case 2:
    test2();
  break;
  case 3:
    test();
  break;
  // And so on...
}
// Shorthand
var data = {
  1: test1,
  2: test2,
  3: test
};
data[something] && data[something]();
```



## \16. éšå¼è¿”å›



é€šè¿‡ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›å€¼ï¼Œä¸éœ€è¦ return è¯­å¥ã€‚

```
//longhand
function calculate(diameter) {
  return Math.PI * diameter
}
//shorthand
calculate = diameter => (
  Math.PI * diameter;
)
```



## \17. æŒ‡æ•°è¡¨ç¤ºæ³•



```
// Longhand
for (var i = 0; i < 10000; i++) { ... }
// Shorthand
for (var i = 0; i < 1e4; i++) {
```



## \18. é»˜è®¤å‚æ•°å€¼



```
//Longhand
function add(test1, test2) {
  if (test1 === undefined)
    test1 = 1;
  if (test2 === undefined)
    test2 = 2;
  return test1 + test2;
}
//shorthand
add = (test1 = 1, test2 = 2) => (test1 + test2);
add() //output: 3
```



## \19. å»¶å±•æ“ä½œç¬¦ç®€åŒ–



```
//longhand
// joining arrays using concat
const data = [1, 2, 3];
const test = [4 ,5 , 6].concat(data);
//shorthand
// joining arrays
const data = [1, 2, 3];
const test = [4 ,5 , 6, ...data];
console.log(test); // [ 4, 5, 6, 1, 2, 3]
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å»¶å±•æ“ä½œç¬¦è¿›è¡Œå…‹éš†ã€‚

```
//longhand
// cloning arrays
const test1 = [1, 2, 3];
const test2 = test1.slice()
//shorthand
// cloning arrays
const test1 = [1, 2, 3];
const test2 = [...test1];
```



## \20. æ¨¡æ¿å­—é¢é‡



å¦‚æœä½ åŒå€¦äº†ä½¿ç”¨ + å°†å¤šä¸ªå˜é‡è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¿™ä¸ªç®€åŒ–æŠ€å·§å°†è®©ä½ ä¸å†å¤´ç—›ã€‚

```
//longhand
const welcome = 'Hi ' + test1 + ' ' + test2 + '.'
//shorthand
const welcome = `Hi ${test1} ${test2}`;
```



## \21. è·¨è¡Œå­—ç¬¦ä¸²



å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­å¤„ç†è·¨è¡Œå­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥è¿™æ ·åšã€‚

```
//longhand
const data = 'abc abc abc abc abc abc\n\t'
    + 'test test,test test test test\n\t'
//shorthand
const data = `abc abc abc abc abc abc
         test test,test test test test`
```



## \22. å¯¹è±¡å±æ€§èµ‹å€¼



```
let test1 = 'a'; 
let test2 = 'b';
//Longhand 
let obj = {test1: test1, test2: test2}; 
//Shorthand 
let obj = {test1, test2};
```



## \23. å°†å­—ç¬¦ä¸²è½¬æˆæ•°å­—



```
//Longhand 
let test1 = parseInt('123'); 
let test2 = parseFloat('12.3'); 
//Shorthand 
let test1 = +'123'; 
let test2 = +'12.3';
```



## \24. è§£æ„èµ‹å€¼



```
//longhand
const test1 = this.data.test1;
const test2 = this.data.test2;
const test2 = this.data.test3;
//shorthand
const { test1, test2, test3 } = this.data;
```



## \25. æ•°ç»„ find ç®€åŒ–



å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œå¹¶æƒ³æ ¹æ®å¯¹è±¡å±æ€§æ‰¾åˆ°ç‰¹å®šå¯¹è±¡ï¼Œfind æ–¹æ³•ä¼šéå¸¸æœ‰ç”¨ã€‚

```
const data = [{
        type: 'test1',
        name: 'abc'
    },
    {
        type: 'test2',
        name: 'cde'
    },
    {
        type: 'test1',
        name: 'fgh'
    },
]
function findtest1(name) {
    for (let i = 0; i < data.length; ++i) {
        if (data[i].type === 'test1' && data[i].name === name) {
            return data[i];
        }
    }
}
//Shorthand
filteredData = data.find(data => data.type === 'test1' && data.name === 'fgh');
console.log(filteredData); // { type: 'test1', name: 'fgh' }
```



## \26. æ¡ä»¶æŸ¥æ‰¾ç®€åŒ–



å¦‚æœæˆ‘ä»¬è¦åŸºäºä¸åŒçš„ç±»å‹è°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ª else if è¯­å¥æˆ– switchï¼Œä½†æœ‰æ²¡æœ‰æ¯”è¿™æ›´å¥½çš„ç®€åŒ–æŠ€å·§å‘¢ï¼Ÿ

```
// Longhand
if (type === 'test1') {
  test1();
}
else if (type === 'test2') {
  test2();
}
else if (type === 'test3') {
  test3();
}
else if (type === 'test4') {
  test4();
} else {
  throw new Error('Invalid value ' + type);
}
// Shorthand
var types = {
  test1: test1,
  test2: test2,
  test3: test3,
  test4: test4
};
var func = types[type];
(!func) && throw new Error('Invalid value ' + type); func();
```



## \27. indexOf çš„æŒ‰ä½æ“ä½œç®€åŒ–



åœ¨æŸ¥æ‰¾æ•°ç»„çš„æŸä¸ªå€¼æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ indexOf() æ–¹æ³•ã€‚ä½†æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­ã€‚

```
//longhand
if(arr.indexOf(item) > -1) { // item found 
}
if(arr.indexOf(item) === -1) { // item not found
}
//shorthand
if(~arr.indexOf(item)) { // item found
}
if(!~arr.indexOf(item)) { // item not found
}
```

æŒ‰ä½ (~) è¿ç®—ç¬¦å°†è¿”å› trueï¼ˆ-1 é™¤å¤–ï¼‰ï¼Œåå‘æ“ä½œåªéœ€è¦!~ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ include() å‡½æ•°ã€‚

```
if (arr.includes(item)) { 
// true if the item found
}
```



## \28. Object.entries()



è¿™ä¸ªæ–¹æ³•å¯ä»¥å°†å¯¹è±¡è½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„ã€‚

```
const data = { test1: 'abc', test2: 'cde', test3: 'efg' };
const arr = Object.entries(data);
console.log(arr);
/** Output:
[ [ 'test1', 'abc' ],
  [ 'test2', 'cde' ],
  [ 'test3', 'efg' ]
]
**/
```



## \29. Object.values()



è¿™ä¹Ÿæ˜¯ ES8 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå®ƒçš„åŠŸèƒ½ç±»ä¼¼äº Object.entries()ï¼Œåªæ˜¯æ²¡æœ‰é”®ã€‚

```
const data = { test1: 'abc', test2: 'cde' };
const arr = Object.values(data);
console.log(arr);
/** Output:
[ 'abc', 'cde']
**/
```



## \30. åŒé‡æŒ‰ä½æ“ä½œ



```
// Longhand
Math.floor(1.9) === 1 // true
// Shorthand
~~1.9 === 1 // true
```



## \31. é‡å¤å­—ç¬¦ä¸²å¤šæ¬¡



ä¸ºäº†é‡å¤æ“ä½œç›¸åŒçš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for å¾ªç¯ï¼Œä½†å…¶å®è¿˜æœ‰ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•ã€‚

```
//longhand 
let test = ''; 
for(let i = 0; i < 5; i ++) { 
  test += 'test '; 
} 
console.log(str); // test test test test test 
//shorthand 
'test '.repeat(5);
```



## \32. æŸ¥æ‰¾æ•°ç»„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼



```
const arr = [1, 2, 3]; 
Math.max(â€¦arr); // 3
Math.min(â€¦arr); // 1
```



## \33. è·å–å­—ç¬¦ä¸²çš„å­—ç¬¦



```
let str = 'abc';
//Longhand 
str.charAt(2); // c
//Shorthand 
str[2]; // c
```



## \34. æŒ‡æ•°å¹‚ç®€åŒ–



```
//longhand
Math.pow(2,3); // 8
//shorthand
2**3 // 8
```

## 1ã€éšæœºè·å–å¸ƒå°”å€¼

```
const randomBoolean =  () => Math.random() >= 0.5;
console.log(randomBoolean());
```

Math.random() è¾“å‡º 0 - 1 ä¹‹é—´çš„éšæœºæ•°ï¼Œç„¶ååˆ¤æ–­è¿™ä¸ªéšæœºæ•°æ˜¯å¦å¤§äºç­‰äº 0.5ã€‚

è¿™å°±è¯´æ˜æœ‰ 50% çš„æœºä¼šå¾—åˆ°çœŸå€¼æˆ–å‡å€¼ã€‚

## 2ã€åˆ¤æ–­ç»™çš„æ—¥æœŸæ˜¯å·¥ä½œæ—¥è¿˜æ˜¯åŒä¼‘æ—¥

```
const isWeekday = (date) => date.getDay() % 6 !== 0;
console.log(isWeekday(new Date(2021, 0, 11)));
// ç»“æœ: true (Monday)
console.log(isWeekday(new Date(2021, 0, 10)));
// ç»“æœ: false (Sunday)
```

## 3ã€åè½¬å­—ç¬¦ä¸²

```
const reverse = str => str.split('').reverse().join('');
reverse('hello world');     
// ç»“æœ : 'dlrow olleh'
```

## 4ã€åˆ¤æ–­æ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°

```
const isEven = num => num % 2 === 0;
console.log(isEven(2));
// ç»“æœ: true
console.log(isEven(3));
// ç»“æœ: false
```

## 5ã€ä»æ—¥æœŸè·å–å½“åœ°æ—¶é—´

```
const timeFromDate = date => date.toTimeString().slice(0, 8);
console.log(timeFromDate(new Date(2021, 0, 10, 17, 30, 0))); 
// ç»“æœ: "17:30:00"
console.log(timeFromDate(new Date()));
// ç»“æœ: will log the current time
```

## 6ã€ä½¿ç”¨ `Math.pow()` æ–¹æ³•ï¼Œå°†æ•°å­—å››èˆäº”å…¥åˆ°å›ºå®šçš„å°æ•°ç‚¹

```
const toFixed = (n, fixed) => ~~(Math.pow(10, fixed) * n) / Math.pow(10, fixed);
// Examples
toFixed(25.198726354, 1);       // 25.1
toFixed(25.198726354, 2);       // 25.19
toFixed(25.198726354, 3);       // 25.198
toFixed(25.198726354, 4);       // 25.1987
toFixed(25.198726354, 5);       // 25.19872
toFixed(25.198726354, 6);       // 25.198726
```

## 7ã€ä½¿ç”¨ `document.activeElement` å±æ€§ï¼Œæ£€æŸ¥å…ƒç´ å½“å‰æ˜¯å¦å¤„äºç„¦ç‚¹

```
const elementIsInFocus = (el) => (el === document.activeElement);
elementIsInFocus(anyElement);

//ç»“æœ: will return true if in focus, false if not in focus
```

## 8ã€æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦åœ¨ Apple è®¾å¤‡ä¸Š

```
const isAppleDevice = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
console.log(isAppleDevice);

//ç»“æœ: will return true if user is on an Apple device
```

## 9ã€æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨

ä½¿ç”¨ `window.scrollTo()` æ–¹æ³•å°† `x = 0` å’Œ `y = 0` ã€‚

```
const goToTop = () => window.scrollTo(0, 0);
goToTop();
// Result: will scroll the browser to the top of the page
```



## ã€JSã€‘11ä¸ªJavaScriptä»£ç é‡æ„æœ€ä½³å®è·µ

æ¨¡å¼å’Œé‡æ„ä¹‹é—´æœ‰ç€ä¸€ç§ä¸ç”Ÿä¿±æ¥çš„å…³ç³»ã€‚ä»æŸç§è§’åº¦æ¥çœ‹ï¼Œè®¾è®¡æ¨¡å¼çš„ç›®çš„å°±æ˜¯ä¸ºè®¸å¤šé‡æ„è¡Œä¸ºæä¾›ç›®æ ‡ã€‚

### 1.æç‚¼å‡½æ•°

åœ¨JavaScriptå¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ä¸å‡½æ•°æ‰“äº¤é“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›è¿™äº›å‡½æ•°æœ‰ç€è‰¯å¥½çš„å‘½åï¼Œå‡½æ•°ä½“å†…åŒ…å«çš„é€»è¾‘æ¸…æ™°æ˜äº†ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°è¿‡é•¿ï¼Œä¸å¾—ä¸åŠ ä¸Šè‹¥å¹²æ³¨é‡Šæ‰èƒ½è®©è¿™ä¸ªå‡½æ•°æ˜¾å¾—æ˜“è¯»ä¸€äº›ï¼Œé‚£è¿™äº›å‡½æ•°å°±å¾ˆæœ‰å¿…è¦è¿›è¡Œé‡æ„ã€‚

å¦‚æœåœ¨å‡½æ•°ä¸­æœ‰ä¸€æ®µä»£ç å¯ä»¥è¢«ç‹¬ç«‹å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æœ€å¥½æŠŠè¿™äº›ä»£ç æ”¾è¿›å¦å¤–ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸­ã€‚è¿™æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„ä¼˜åŒ–å·¥ä½œï¼Œè¿™æ ·åšçš„å¥½å¤„ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ã€‚

- é¿å…å‡ºç°è¶…å¤§å‡½æ•°ã€‚
- ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æœ‰åŠ©äºä»£ç å¤ç”¨ã€‚
- ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°æ›´å®¹æ˜“è¢«è¦†å†™ã€‚
- ç‹¬ç«‹å‡ºæ¥çš„å‡½æ•°å¦‚æœæ‹¥æœ‰ä¸€ä¸ªè‰¯å¥½çš„å‘½åï¼Œå®ƒæœ¬èº«å°±èµ·åˆ°äº†æ³¨é‡Šçš„ä½œç”¨ã€‚

æ¯”å¦‚åœ¨ä¸€ä¸ªè´Ÿè´£å–å¾—ç”¨æˆ·ä¿¡æ¯çš„å‡½æ•°é‡Œé¢ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ‰“å°è·Ÿç”¨æˆ·ä¿¡æ¯æœ‰å…³çš„logï¼Œé‚£ä¹ˆæ‰“å°logçš„è¯­å¥å°±å¯ä»¥è¢«å°è£…åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°é‡Œï¼š

```
var getUserInfo = function(){
    ajax( 'http:// xxx.com/userInfo', function( data ){
        console.log( 'userId: ' + data.userId );
        console.log( 'userName: ' + data.userName );
        console.log( 'nickName: ' + data.nickName );
    });
};

æ”¹æˆï¼š

var getUserInfo = function(){
    ajax( 'http:// xxx.com/userInfo', function( data ){
        printDetails( data );
    });
};

var printDetails = function( data ){
    console.log( 'userId: ' + data.userId );
    console.log( 'userName: ' + data.userName );
    console.log( 'nickName: ' + data.nickName );
};
```

### 2.åˆå¹¶é‡å¤çš„æ¡ä»¶ç‰‡æ®µ

å¦‚æœä¸€ä¸ªå‡½æ•°ä½“å†…æœ‰ä¸€äº›æ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œè€Œè¿™äº›æ¡ä»¶åˆ†æ”¯è¯­å¥å†…éƒ¨æ•£å¸ƒäº†ä¸€äº›é‡å¤çš„ä»£ç ï¼Œé‚£ä¹ˆå°±æœ‰å¿…è¦è¿›è¡Œåˆå¹¶å»é‡å·¥ä½œã€‚å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåˆ†é¡µå‡½æ•°pagingï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°currPageï¼ŒcurrPageè¡¨ç¤ºå³å°†è·³è½¬çš„é¡µç ã€‚åœ¨è·³è½¬ä¹‹å‰ï¼Œä¸ºé˜²æ­¢currPageä¼ å…¥è¿‡å°æˆ–è€…è¿‡å¤§çš„æ•°å­—ï¼Œæˆ‘ä»¬è¦æ‰‹åŠ¨å¯¹å®ƒçš„å€¼è¿›è¡Œä¿®æ­£ï¼Œè¯¦è§å¦‚ä¸‹ä¼ªä»£ç ï¼š

```
var paging = function( currPage ){
    if ( currPage <= 0 ){
        currPage = 0;
        jump( currPage );    // è·³è½¬
    }else if ( currPage >= totalPage ){
        currPage = totalPage;
        jump( currPage );    // è·³è½¬
    }else{
        jump( currPage );    // è·³è½¬
    }
};
```

å¯ä»¥çœ‹åˆ°ï¼Œè´Ÿè´£è·³è½¬çš„ä»£ç jump( currPage )åœ¨æ¯ä¸ªæ¡ä»¶åˆ†æ”¯å†…éƒ½å‡ºç°äº†ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥æŠŠè¿™å¥ä»£ç ç‹¬ç«‹å‡ºæ¥ï¼š

```
var paging = function( currPage ){
    if ( currPage <= 0 ){
        currPage = 0;
    }else if ( currPage >= totalPage ){
        currPage = totalPage;
    }
    jump( currPage );    // æŠŠjumpå‡½æ•°ç‹¬ç«‹å‡ºæ¥
};
```

### 3.æŠŠæ¡ä»¶åˆ†æ”¯è¯­å¥æç‚¼æˆå‡½æ•°

åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œå¤æ‚çš„æ¡ä»¶åˆ†æ”¯è¯­å¥æ˜¯å¯¼è‡´ç¨‹åºéš¾ä»¥é˜…è¯»å’Œç†è§£çš„é‡è¦åŸå› ï¼Œè€Œä¸”å®¹æ˜“å¯¼è‡´ä¸€ä¸ªåºå¤§çš„å‡½æ•°ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯ç¼–å†™ä¸€ä¸ªè®¡ç®—å•†å“ä»·æ ¼çš„getPriceå‡½æ•°ï¼Œå•†å“çš„è®¡ç®—åªæœ‰ä¸€ä¸ªè§„åˆ™ï¼šå¦‚æœå½“å‰æ­£å¤„äºå¤å­£ï¼Œé‚£ä¹ˆå…¨éƒ¨å•†å“å°†ä»¥8æŠ˜å‡ºå”®ã€‚ä»£ç å¦‚ä¸‹ï¼š

```
var getPrice = function( price ){
    var date = new Date();
    if ( date.getMonth() >= 6 && date.getMonth() <= 9 ){    // å¤å¤©
        return price * 0.8;
    }
    return price;
};
```

è§‚å¯Ÿè¿™å¥ä»£ç ï¼š

```
if ( date.getMonth() >= 6 && date.getMonth() <= 9 ){
    // ...
}
```

è¿™å¥ä»£ç è¦è¡¨è¾¾çš„æ„æ€å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ¤æ–­å½“å‰æ˜¯å¦æ­£å¤„äºå¤å¤©ï¼ˆ7~10æœˆï¼‰ã€‚å°½ç®¡è¿™å¥ä»£ç å¾ˆçŸ­å°ï¼Œä½†ä»£ç è¡¨è¾¾çš„æ„å›¾å’Œä»£ç è‡ªèº«è¿˜å­˜åœ¨ä¸€äº›è·ç¦»ï¼Œé˜…è¯»ä»£ç çš„äººå¿…é¡»è¦å¤šèŠ±ä¸€äº›ç²¾åŠ›æ‰èƒ½æ˜ç™½å®ƒä¼ è¾¾çš„æ„å›¾ã€‚å…¶å®å¯ä»¥æŠŠè¿™å¥ä»£ç æç‚¼æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œæ—¢èƒ½æ›´å‡†ç¡®åœ°è¡¨è¾¾ä»£ç çš„æ„æ€ï¼Œå‡½æ•°åæœ¬èº«åˆèƒ½èµ·åˆ°æ³¨é‡Šçš„ä½œç”¨ã€‚ä»£ç å¦‚ä¸‹ï¼š

```
var isSummer = function(){
    var date = new Date();
    return date.getMonth() >= 6 && date.getMonth() <= 9;
};

var getPrice = function( price ){
    if ( isSummer() ){    // å¤å¤©
        return price * 0.8;
    }
    return price;
};
```

### 4.åˆç†ä½¿ç”¨å¾ªç¯

åœ¨å‡½æ•°ä½“å†…ï¼Œå¦‚æœæœ‰äº›ä»£ç å®é™…ä¸Šè´Ÿè´£çš„æ˜¯ä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼Œé‚£ä¹ˆåˆç†åˆ©ç”¨å¾ªç¯ä¸ä»…å¯ä»¥å®ŒæˆåŒæ ·çš„åŠŸèƒ½ï¼Œè¿˜å¯ä»¥ä½¿ä»£ç é‡æ›´å°‘ã€‚ä¸‹é¢æœ‰ä¸€æ®µåˆ›å»ºXHRå¯¹è±¡çš„ä»£ç ï¼Œä¸ºäº†ç®€åŒ–ç¤ºä¾‹ï¼Œæˆ‘ä»¬åªè€ƒè™‘ç‰ˆæœ¬9ä»¥ä¸‹çš„IEæµè§ˆå™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
var createXHR = function(){
    var xhr;
    try{
        xhr = new ActiveXObject( 'MSXML2.XMLHttp.6.0' );
    }catch(e){
        try{
            xhr = new ActiveXObject( 'MSXML2.XMLHttp.3.0' );
        }catch(e){
            xhr = new ActiveXObject( 'MSXML2.XMLHttp' );
        }
    }
    return xhr;
};

var xhr = createXHR();
```

ä¸‹é¢æˆ‘ä»¬çµæ´»åœ°è¿ç”¨å¾ªç¯ï¼Œå¯ä»¥å¾—åˆ°è·Ÿä¸Šé¢ä»£ç ä¸€æ ·çš„æ•ˆæœï¼š

```
var createXHR = function(){
var versions= [ 'MSXML2.XMLHttp.6.0ddd', 'MSXML2.XMLHttp.3.0', 'MSXML2.XMLHttp' ];
    for ( var i = 0, version; version = versions[ i++ ]; ){
        try{
            return new ActiveXObject( version );
        }catch(e){

        }
    }
};

var xhr = createXHR();
```

### 5.æå‰è®©å‡½æ•°é€€å‡ºä»£æ›¿åµŒå¥—æ¡ä»¶åˆ†æ”¯

è®¸å¤šç¨‹åºå‘˜éƒ½æœ‰è¿™æ ·ä¸€ç§è§‚å¿µï¼šâ€œæ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ã€‚â€ç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½ä¼šé™åˆ¶å‡½æ•°åªæœ‰ä¸€ä¸ªå…¥å£ã€‚ä½†å…³äºâ€œå‡½æ•°åªæœ‰ä¸€ä¸ªå‡ºå£â€ï¼Œå¾€å¾€ä¼šæœ‰ä¸€äº›ä¸åŒçš„çœ‹æ³•ã€‚

ä¸‹é¢è¿™æ®µä¼ªä»£ç æ˜¯éµå®ˆâ€œå‡½æ•°åªæœ‰ä¸€ä¸ªå‡ºå£çš„â€çš„å…¸å‹ä»£ç ï¼š

```
var del = function( obj ){
    var ret;
    if ( !obj.isReadOnly ){    // ä¸ä¸ºåªè¯»çš„æ‰èƒ½è¢«åˆ é™¤
        if ( obj.isFolder ){    // å¦‚æœæ˜¯æ–‡ä»¶å¤¹
            ret = deleteFolder( obj );
        }else if ( obj.isFile ){    // å¦‚æœæ˜¯æ–‡ä»¶
            ret = deleteFile( obj );
        }
    }
    return ret;
};
```

åµŒå¥—çš„æ¡ä»¶åˆ†æ”¯è¯­å¥ç»å¯¹æ˜¯ä»£ç ç»´æŠ¤è€…çš„å™©æ¢¦ï¼Œå¯¹äºé˜…è¯»ä»£ç çš„äººæ¥è¯´ï¼ŒåµŒå¥—çš„ifã€elseè¯­å¥ç›¸æ¯”å¹³é“ºçš„ifã€elseï¼Œåœ¨é˜…è¯»å’Œç†è§£ä¸Šæ›´åŠ å›°éš¾ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªå¤–å±‚ifåˆ†æ”¯çš„å·¦æ‹¬å·å’Œå³æ‹¬å·ä¹‹é—´ç›¸éš”500ç±³ä¹‹è¿œã€‚ç”¨ã€Šé‡æ„ã€‹é‡Œçš„è¯è¯´ï¼ŒåµŒå¥—çš„æ¡ä»¶åˆ†æ”¯å¾€å¾€æ˜¯ç”±ä¸€äº›æ·±ä¿¡â€œæ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå‡ºå£çš„â€ç¨‹åºå‘˜å†™å‡ºçš„ã€‚ä½†å®é™…ä¸Šï¼Œå¦‚æœå¯¹å‡½æ•°çš„å‰©ä½™éƒ¨åˆ†ä¸æ„Ÿå…´è¶£ï¼Œé‚£å°±åº”è¯¥ç«‹å³é€€å‡ºã€‚å¼•å¯¼é˜…è¯»è€…å»çœ‹ä¸€äº›æ²¡æœ‰ç”¨çš„elseç‰‡æ®µï¼Œåªä¼šå¦¨ç¢ä»–ä»¬å¯¹ç¨‹åºçš„ç†è§£ã€‚

äºæ˜¯æˆ‘ä»¬å¯ä»¥æŒ‘é€‰ä¸€äº›æ¡ä»¶åˆ†æ”¯ï¼Œåœ¨è¿›å…¥è¿™äº›æ¡ä»¶åˆ†æ”¯ä¹‹åï¼Œå°±ç«‹å³è®©è¿™ä¸ªå‡½æ•°é€€å‡ºã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæœ‰ä¸€ä¸ªå¸¸è§çš„æŠ€å·§ï¼Œå³åœ¨é¢å¯¹ä¸€ä¸ªåµŒå¥—çš„ifåˆ†æ”¯æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤–å±‚ifè¡¨è¾¾å¼è¿›è¡Œåè½¬ã€‚é‡æ„åçš„delå‡½æ•°å¦‚ä¸‹ï¼š

```
var del = function( obj ){
    if ( obj.isReadOnly ){    // åè½¬ifè¡¨è¾¾å¼
        return;
    }
    if ( obj.isFolder ){
        return deleteFolder( obj );
    }
    if ( obj.isFile ){
        return deleteFile( obj );
    }
};
```

### 6.ä¼ é€’å¯¹è±¡å‚æ•°ä»£æ›¿è¿‡é•¿çš„å‚æ•°åˆ—è¡¨

æœ‰æ—¶å€™ä¸€ä¸ªå‡½æ•°æœ‰å¯èƒ½æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œè€Œå‚æ•°çš„æ•°é‡è¶Šå¤šï¼Œå‡½æ•°å°±è¶Šéš¾ç†è§£å’Œä½¿ç”¨ã€‚ä½¿ç”¨è¯¥å‡½æ•°çš„äººé¦–å…ˆå¾—ææ˜ç™½å…¨éƒ¨å‚æ•°çš„å«ä¹‰ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œè¿˜è¦å°å¿ƒç¿¼ç¿¼ï¼Œä»¥å…å°‘ä¼ äº†æŸä¸ªå‚æ•°æˆ–è€…æŠŠä¸¤ä¸ªå‚æ•°æåäº†ä½ç½®ã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨ç¬¬3ä¸ªå‚æ•°å’Œç¬¬4ä¸ªå‚æ•°ä¹‹ä¸­å¢åŠ ä¸€ä¸ªæ–°çš„å‚æ•°ï¼Œå°±ä¼šæ¶‰åŠè®¸å¤šä»£ç çš„ä¿®æ”¹ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
var setUserInfo = function( id, name, address, sex, mobile, qq ){
    console.log( 'id= ' + id );
    console.log( 'name= ' +name );
    console.log( 'address= ' + address );
    console.log( 'sex= ' + sex );
    console.log( 'mobile= ' + mobile );
    console.log( 'qq= ' + qq );
};

setUserInfo( 1314, 'sven', 'shenzhen', 'male', '137********', 377876679 )
```

;

è¿™æ—¶æˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°éƒ½æ”¾å…¥ä¸€ä¸ªå¯¹è±¡å†…ï¼Œç„¶åæŠŠè¯¥å¯¹è±¡ä¼ å…¥setUserInfo å‡½æ•°ï¼ŒsetUserInfoå‡½æ•°éœ€è¦çš„æ•°æ®å¯ä»¥è‡ªè¡Œä»è¯¥å¯¹è±¡é‡Œè·å–ã€‚ç°åœ¨ä¸ç”¨å†å…³å¿ƒå‚æ•°çš„æ•°é‡å’Œé¡ºåºï¼Œåªè¦ä¿è¯å‚æ•°å¯¹åº”çš„keyå€¼ä¸å˜å°±å¯ä»¥äº†ï¼š

```
var setUserInfo = function( obj ){
    console.log( 'id= ' + obj.id );
    console.log( 'name= ' + obj.name );
    console.log( 'address= ' + obj.address );
    console.log( 'sex= ' + obj.sex );
    console.log( 'mobile= ' + obj.mobile );
    console.log( 'qq= ' + obj.qq );
};

setUserInfo({
    id: 1314,
    name: 'sven',
    address: 'shenzhen',
    sex: 'male',
    mobile: '137********',
    qq: 377876679
});
```

### 7.å°½é‡å‡å°‘å‚æ•°æ•°é‡

å¦‚æœè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶éœ€è¦ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œé‚£è¿™ä¸ªå‡½æ•°æ˜¯è®©äººæœ›è€Œç”Ÿç•çš„ï¼Œæˆ‘ä»¬å¿…é¡»ææ¸…æ¥šè¿™äº›å‚æ•°ä»£è¡¨çš„å«ä¹‰ï¼Œå¿…é¡»å°å¿ƒç¿¼ç¿¼åœ°æŠŠå®ƒä»¬æŒ‰ç…§é¡ºåºä¼ å…¥è¯¥å‡½æ•°ã€‚è€Œå¦‚æœä¸€ä¸ªå‡½æ•°ä¸éœ€è¦ä¼ å…¥ä»»ä½•å‚æ•°å°±å¯ä»¥ä½¿ç”¨ï¼Œè¿™ç§å‡½æ•°æ˜¯æ·±å—äººä»¬å–œçˆ±çš„ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå‘å‡½æ•°ä¼ é€’å‚æ•°ä¸å¯é¿å…ï¼Œä½†æˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘å‡½æ•°æ¥æ”¶çš„å‚æ•°æ•°é‡ã€‚ä¸‹é¢ä¸¾ä¸ªéå¸¸ç®€å•çš„ç¤ºä¾‹ã€‚æœ‰ä¸€ä¸ªç”»å›¾å‡½æ•°drawï¼Œå®ƒç°åœ¨åªèƒ½ç»˜åˆ¶æ­£æ–¹å½¢ï¼Œæ¥æ”¶äº†3ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å›¾å½¢çš„widthã€heigthä»¥åŠsquareï¼š

```
var draw = function( width, height, square ){};
```

ä½†å®é™…ä¸Šæ­£æ–¹å½¢çš„é¢ç§¯æ˜¯å¯ä»¥é€šè¿‡widthå’Œheightè®¡ç®—å‡ºæ¥çš„ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°squareä»drawå‡½æ•°ä¸­å»æ‰ï¼š

```
var draw = function( width, height ){
    var square = width * height;
};
```

å‡è®¾ä»¥åè¿™ä¸ªdrawå‡½æ•°å¼€å§‹æ”¯æŒç»˜åˆ¶åœ†å½¢ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå‚æ•°widthå’Œheightæ¢æˆåŠå¾„radiusï¼Œ ä½†å›¾å½¢çš„é¢ç§¯squareå§‹ç»ˆä¸åº”è¯¥ç”±å®¢æˆ·ä¼ å…¥ï¼Œè€Œæ˜¯åº”è¯¥åœ¨drawå‡½æ•°å†…éƒ¨ï¼Œç”±ä¼ å…¥çš„å‚æ•°åŠ ä¸Šä¸€å®šçš„è§„åˆ™è®¡ç®—å¾—æ¥ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œè®©drawå‡½æ•°æˆä¸ºä¸€ä¸ªæ”¯æŒç»˜åˆ¶å¤šç§å›¾å½¢çš„å‡½æ•°ã€‚

### 8.å°‘ç”¨ä¸‰ç›®è¿ç®—ç¬¦

æœ‰ä¸€äº›ç¨‹åºå‘˜å–œæ¬¢å¤§è§„æ¨¡åœ°ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ï¼Œæ¥ä»£æ›¿ä¼ ç»Ÿçš„ifã€elseã€‚ç†ç”±æ˜¯ä¸‰ç›®è¿ç®—ç¬¦æ€§èƒ½é«˜ï¼Œä»£ç é‡å°‘ã€‚ä¸è¿‡ï¼Œè¿™ä¸¤ä¸ªç†ç”±å…¶å®éƒ½å¾ˆéš¾ç«™å¾—ä½è„šã€‚

å³ä½¿æˆ‘ä»¬å‡è®¾ä¸‰ç›®è¿ç®—ç¬¦çš„æ•ˆç‡çœŸçš„æ¯”ifã€elseé«˜ï¼Œè¿™ç‚¹å·®è·ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥å¿½ç•¥ä¸è®¡çš„ã€‚åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå³ä½¿æŠŠä¸€æ®µä»£ç å¾ªç¯ä¸€ç™¾ä¸‡æ¬¡ï¼Œä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦å’Œä½¿ç”¨ifã€elseçš„æ—¶é—´å¼€é”€å¤„åœ¨åŒä¸€ä¸ªçº§åˆ«é‡Œã€‚

åŒæ ·ï¼Œç›¸æ¯”æŸå¤±çš„ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸‰ç›®è¿ç®—ç¬¦èŠ‚çœçš„ä»£ç é‡ä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚è®©JSæ–‡ä»¶åŠ è½½æ›´å¿«çš„åŠæ³•æœ‰å¾ˆå¤šç§ï¼Œå¦‚å‹ç¼©ã€ç¼“å­˜ã€ä½¿ç”¨CDNå’Œåˆ†åŸŸåç­‰ã€‚æŠŠæ³¨æ„åŠ›åªæ”¾åœ¨ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦èŠ‚çœçš„å­—ç¬¦æ•°é‡ä¸Šï¼Œæ— å¼‚äºä¸€ä¸ª300æ–¤é‡çš„äººæŠŠè¶…é‡çš„åŸå› å½’ç½ªäºå¤´çš®å±‘ã€‚

å¦‚æœæ¡ä»¶åˆ†æ”¯é€»è¾‘ç®€å•ä¸”æ¸…æ™°ï¼Œè¿™æ— ç¢æˆ‘ä»¬ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ï¼š

```
var global = typeof window !== "undefined" ? window : this;
```

ä½†å¦‚æœæ¡ä»¶åˆ†æ”¯é€»è¾‘éå¸¸å¤æ‚ï¼Œå¦‚ä¸‹æ®µä»£ç æ‰€ç¤ºï¼Œé‚£æˆ‘ä»¬æœ€å¥½çš„é€‰æ‹©è¿˜æ˜¯æŒ‰éƒ¨å°±ç­åœ°ç¼–å†™ifã€elseã€‚ifã€elseè¯­å¥çš„å¥½å¤„å¾ˆå¤šï¼Œä¸€æ˜¯é˜…è¯»ç›¸å¯¹å®¹æ˜“ï¼ŒäºŒæ˜¯ä¿®æ”¹çš„æ—¶å€™æ¯”ä¿®æ”¹ä¸‰ç›®è¿ç®—ç¬¦å‘¨å›´çš„ä»£ç æ›´åŠ æ–¹ä¾¿ï¼š

```
if ( !aup || !bup ) {
    return a === doc ? -1 :
        b === doc ? 1 :
        aup ? -1 :
        bup ? 1 :
        sortInput ?
        ( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
        0;
}
```

### 9.åˆç†ä½¿ç”¨é“¾å¼è°ƒç”¨

ç»å¸¸ä½¿ç”¨jQueryçš„ç¨‹åºå‘˜ç›¸å½“ä¹ æƒ¯é“¾å¼è°ƒç”¨æ–¹æ³•ï¼Œåœ¨JavaScriptä¸­ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°æ–¹æ³•çš„é“¾å¼è°ƒç”¨ï¼Œå³è®©æ–¹æ³•è°ƒç”¨ç»“æŸåè¿”å›å¯¹è±¡è‡ªèº«ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š

```
var User = function(){
    this.id = null;
    this.name = null;
};

User.prototype.setId = function( id ){
    this.id = id;
    return this;
};

User.prototype.setName = function( name ){
    this.name = name;
    return this;
};

console.log( new User().setId( 1314 ).setName( 'sven' ) );
```

æˆ–è€…ï¼š

```
var User = {
    id: null,
    name: null,
    setId: function( id ){
        this.id = id;
        return this;
    },
    setName: function( name ){
        this.name = name;
        return this;
    }
};

console.log( User.setId( 1314 ).setName( 'sven' ) );
```

ä½¿ç”¨é“¾å¼è°ƒç”¨çš„æ–¹å¼å¹¶ä¸ä¼šé€ æˆå¤ªå¤šé˜…è¯»ä¸Šçš„å›°éš¾ï¼Œä¹Ÿç¡®å®èƒ½çœä¸‹ä¸€äº›å­—ç¬¦å’Œä¸­é—´å˜é‡ï¼Œä½†èŠ‚çœä¸‹æ¥çš„å­—ç¬¦æ•°é‡åŒæ ·æ˜¯å¾®ä¸è¶³é“çš„ã€‚é“¾å¼è°ƒç”¨å¸¦æ¥çš„åå¤„å°±æ˜¯åœ¨è°ƒè¯•çš„æ—¶å€™éå¸¸ä¸æ–¹ä¾¿ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“ä¸€æ¡é“¾ä¸­æœ‰é”™è¯¯å‡ºç°ï¼Œå¿…é¡»å¾—å…ˆæŠŠè¿™æ¡é“¾æ‹†å¼€æ‰èƒ½åŠ ä¸Šä¸€äº›è°ƒè¯•logæˆ–è€…å¢åŠ æ–­ç‚¹ï¼Œè¿™æ ·æ‰èƒ½å®šä½é”™è¯¯å‡ºç°çš„åœ°æ–¹ã€‚

å¦‚æœè¯¥é“¾æ¡çš„ç»“æ„ç›¸å¯¹ç¨³å®šï¼ŒåæœŸä¸æ˜“å‘ç”Ÿä¿®æ”¹ï¼Œé‚£ä¹ˆä½¿ç”¨é“¾å¼è°ƒç”¨æ— å¯åšéã€‚ä½†å¦‚æœè¯¥é“¾æ¡å¾ˆå®¹æ˜“å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´è°ƒè¯•å’Œç»´æŠ¤å›°éš¾ï¼Œé‚£ä¹ˆè¿˜æ˜¯å»ºè®®ä½¿ç”¨æ™®é€šè°ƒç”¨çš„å½¢å¼ï¼š

```
var user = new User();

user.setId( 1314 );
user.setName( 'sven' );
```

### 10.åˆ†è§£å¤§å‹ç±»

åœ¨HTML5ç‰ˆâ€œè¡—å¤´éœ¸ç‹â€çš„ç¬¬ä¸€ç‰ˆä»£ç ä¸­ï¼Œè´Ÿè´£åˆ›å»ºæ¸¸æˆäººç‰©çš„Spirit ç±»éå¸¸åºå¤§ï¼Œä¸ä»…è¦è´Ÿè´£åˆ›å»ºäººç‰©ç²¾çµï¼Œè¿˜åŒ…æ‹¬äº†äººç‰©çš„æ”»å‡»ã€é˜²å¾¡ç­‰åŠ¨ä½œæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
var Spirit = function( name ){
    this.name = name;
};

Spirit.prototype.attack = function( type ){    // æ”»å‡»
    if ( type === 'waveBoxing' ){
        console.log( this.name + ': ä½¿ç”¨æ³¢åŠ¨æ‹³' );
    }else if( type === 'whirlKick' ){
        console.log( this.name + ': ä½¿ç”¨æ—‹é£è…¿' );
    }
};

var spirit = new Spirit( 'RYU' );

spirit.attack( 'waveBoxing' );      // è¾“å‡ºï¼šRYU: ä½¿ç”¨æ³¢åŠ¨æ‹³
spirit.attack( 'whirlKick' );    // è¾“å‡ºï¼šRYU: ä½¿ç”¨æ—‹é£è…¿
```

åæ¥å‘ç°ï¼ŒSpirit.prototype.attackè¿™ä¸ªæ–¹æ³•å®ç°æ˜¯å¤ªåºå¤§äº†ï¼Œå®é™…ä¸Šå®ƒå®Œå…¨æœ‰å¿…è¦ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç±»å­˜åœ¨ã€‚é¢å‘å¯¹è±¡è®¾è®¡é¼“åŠ±å°†è¡Œä¸ºåˆ†å¸ƒåœ¨åˆç†æ•°é‡çš„æ›´å°å¯¹è±¡ä¹‹ä¸­ï¼š

```
var Attack = function( spirit ){
    this.spirit = spirit;
};

Attack.prototype.start = function( type ){
    return this.list[ type ].call( this );
};

Attack.prototype.list = {
    waveBoxing: function(){
        console.log( this.spirit.name + ': ä½¿ç”¨æ³¢åŠ¨æ‹³' );
    },
    whirlKick: function(){
        console.log( this.spirit.name + ': ä½¿ç”¨æ—‹é£è…¿' );
    }
};
```

ç°åœ¨çš„Spiritç±»å˜å¾—ç²¾ç®€äº†å¾ˆå¤šï¼Œä¸å†åŒ…æ‹¬å„ç§å„æ ·çš„æ”»å‡»æ–¹æ³•ï¼Œè€Œæ˜¯æŠŠæ”»å‡»åŠ¨ä½œå§”æ‰˜ç»™Attackç±»çš„å¯¹è±¡æ¥æ‰§è¡Œï¼Œè¿™æ®µä»£ç ä¹Ÿæ˜¯ç­–ç•¥æ¨¡å¼çš„è¿ç”¨ä¹‹ä¸€ï¼š

```
var Spirit = function( name ){
    this.name = name;
    this.attackObj = new Attack( this );
};

Spirit.prototype.attack = function( type ){    // æ”»å‡»
    this.attackObj.start( type );
};

var spirit = new Spirit( 'RYU' );

spirit.attack( 'waveBoxing' );    // è¾“å‡ºï¼šRYU: ä½¿ç”¨æ³¢åŠ¨æ‹³
spirit.attack( 'whirlKick' );    // è¾“å‡ºï¼šRYU: ä½¿ç”¨æ—‹é£
```

### 11.ç”¨returné€€å‡ºå¤šé‡å¾ªç¯

å‡è®¾åœ¨å‡½æ•°ä½“å†…æœ‰ä¸€ä¸ªä¸¤é‡å¾ªç¯è¯­å¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å†…å±‚å¾ªç¯ä¸­åˆ¤æ–­ï¼Œå½“è¾¾åˆ°æŸä¸ªä¸´ç•Œæ¡ä»¶æ—¶é€€å‡ºå¤–å±‚çš„å¾ªç¯ã€‚æˆ‘ä»¬å¤§å¤šæ•°æ—¶å€™ä¼šå¼•å…¥ä¸€ä¸ªæ§åˆ¶æ ‡è®°å˜é‡ï¼š

```
var func = function(){
    var flag = false;
    for ( var i = 0; i < 10; i++ ){
        for ( var j = 0; j < 10; j++ ){
            if ( i * j >30 ){
                flag = true;
                break;
            }
        }
        if ( flag === true ){
            break;
        }
    }
};
```

ç¬¬äºŒç§åšæ³•æ˜¯è®¾ç½®å¾ªç¯æ ‡è®°ï¼š

```
var func = function(){
    outerloop:
    for ( var i = 0; i < 10; i++ ){
        innerloop:
        for ( var j = 0; j < 10; j++ ){
            if ( i * j >30 ){
                break outerloop;
            }
        }
    }
};
```

è¿™ä¸¤ç§åšæ³•æ— ç–‘éƒ½è®©äººå¤´æ™•ç›®çœ©ï¼Œæ›´ç®€å•çš„åšæ³•æ˜¯åœ¨éœ€è¦ä¸­æ­¢å¾ªç¯çš„æ—¶å€™ç›´æ¥é€€å‡ºæ•´ä¸ªæ–¹æ³•ï¼š

```
var func = function(){
    for ( var i = 0; i < 10; i++ ){
        for ( var j = 0; j < 10; j++ ){
            if ( i * j >30 ){
                return;
            }
        }
    }
};
```

å½“ç„¶ç”¨returnç›´æ¥é€€å‡ºæ–¹æ³•ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨å¾ªç¯ä¹‹åè¿˜æœ‰ä¸€äº›å°†è¢«æ‰§è¡Œçš„ä»£ç å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æå‰é€€å‡ºäº†æ•´ä¸ªæ–¹æ³•ï¼Œè¿™äº›ä»£ç å°±å¾—ä¸åˆ°è¢«æ‰§è¡Œçš„æœºä¼šï¼š

```
var func = function(){
    for ( var i = 0; i < 10; i++ ){
        for ( var j = 0; j < 10; j++ ){
            if ( i * j >30 ){
                return;
            }
        }
    }
    console.log( i );    // è¿™å¥ä»£ç æ²¡æœ‰æœºä¼šè¢«æ‰§è¡Œ
};
```

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¾ªç¯åé¢çš„ä»£ç æ”¾åˆ°returnåé¢ï¼Œå¦‚æœä»£ç æ¯”è¾ƒå¤šï¼Œå°±åº”è¯¥æŠŠå®ƒä»¬æç‚¼æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼š

```
var print = function( i ){
    console.log( i );
};

var func = function(){
    for ( var i = 0; i < 10; i++ ){
        for ( var j = 0; j < 10; j++ ){
            if ( i * j >30 ){
                return print( i );
            }
        }
    }
};

func();
```

## 34ä¸ªJavaScriptç®€å†™ä¼˜åŒ–æŠ€æœ¯

### 1.å¦‚æœæœ‰å¤šä¸ªæ¡ä»¶

æˆ‘ä»¬å¯ä»¥åœ¨æ•°ç»„ä¸­å­˜å‚¨å¤šä¸ªå€¼ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨æ•°ç»„ `include` æ–¹æ³•ã€‚

```
//Longhand
if (x === 'abc' || x === 'def' || x === 'ghi' || x ==='jkl') {
  //logic
}

//Shorthand
if (['abc', 'def', 'ghi', 'jkl'].includes(x)) {
  //logic
}
```

### 2.å¦‚æœä¸ºçœŸâ€¦å¦åˆ™ç®€å†™

è¿™å¯¹äºæˆ‘ä»¬æœ‰ `if-else` æ¡ä»¶ï¼Œé‡Œé¢ä¸åŒ…å«æ›´å¤§çš„é€»è¾‘æ—¶ï¼Œæ˜¯ä¸€ä¸ªè¾ƒå¤§çš„æ·å¾„ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ¥å®ç°è¿™ä¸ªç®€å†™ã€‚

```
// Longhand
let test: boolean;
if (x > 100) {
  test = true;
} else {
  test = false;
}

// Shorthand
let test = (x > 10) ? true : false;
//or we can use directly
let test = x > 10;
console.log(test);
```

å½“æˆ‘ä»¬æœ‰åµŒå¥—æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚

```
let x = 300,
test2 = (x > 100) ? 'greater 100' : (x < 50) ? 'less 50' : 'between 50 and 100';
console.log(test2); // "greater than 100"
```

### 3.å£°æ˜å˜é‡

å½“æˆ‘ä»¬è¦å£°æ˜ä¸¤ä¸ªå…·æœ‰å…±åŒå€¼æˆ–å…±åŒç±»å‹çš„å˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ç®€å†™å½¢å¼ã€‚

```
//Longhand
let test1;
let test2 = 1;

//Shorthand
let test1, test2 = 1;
```

### 4.Null, Undefinedï¼Œç©ºæ£€æŸ¥

å½“æˆ‘ä»¬åˆ›å»ºæ–°çš„å˜é‡æ—¶ï¼Œæœ‰æ—¶æˆ‘ä»¬æƒ³æ£€æŸ¥æˆ‘ä»¬å¼•ç”¨çš„å˜é‡çš„å€¼æ˜¯å¦ä¸ºç©ºæˆ– undefinedã€‚JavaScript ç¡®å®æœ‰ä¸€ä¸ªéå¸¸å¥½çš„ç®€å†™å·¥å…·æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚

```
// Longhand
if (test1 !== null || test1 !== undefined || test1 !== '') {
    let test2 = test1;
}

// Shorthand
let test2 = test1 || '';
```

### 5.null å€¼æ£€æŸ¥å’Œåˆ†é…é»˜è®¤å€¼

```
let test1 = null,
    test2 = test1 || '';

console.log("null check", test2); // output will be ""
```

### 6.undefined å€¼æ£€æŸ¥å’Œåˆ†é…é»˜è®¤å€¼

```
let test1 = undefined,
    test2 = test1 || '';

console.log("undefined check", test2); // output will be ""
```

æ­£å¸¸å€¼æ£€æŸ¥

```
let test1 = 'test',
    test2 = test1 || '';

console.log(test2); // output: 'test'
```

### 7.å°†å€¼åˆ†é…ç»™å¤šä¸ªå˜é‡

å½“æˆ‘ä»¬å¤„ç†å¤šä¸ªå˜é‡å¹¶å¸Œæœ›å°†ä¸åŒçš„å€¼åˆ†é…ç»™ä¸åŒçš„å˜é‡æ—¶ï¼Œæ­¤ç®€å†™æŠ€æœ¯éå¸¸æœ‰ç”¨ã€‚

```
//Longhand
let test1, test2, test3;
test1 = 1;
test2 = 2;
test3 = 3;

//Shorthand
let [test1, test2, test3] = [1, 2, 3];
```

### 8.èµ‹å€¼è¿ç®—ç¬¦ç®€å†™

æˆ‘ä»¬åœ¨ç¼–ç¨‹ä¸­å¤„ç†å¾ˆå¤šç®—æœ¯è¿ç®—ç¬¦ï¼Œè¿™æ˜¯å°†è¿ç®—ç¬¦åˆ†é…ç»™ JavaScript å˜é‡çš„æœ‰ç”¨æŠ€æœ¯ä¹‹ä¸€ã€‚

```
// Longhand
test1 = test1 + 1;
test2 = test2 - 1;
test3 = test3 * 20;

// Shorthand
test1++;
test2--;
test3 *= 20;
```

### 9.å¦‚æœå­˜åœ¨ç®€å†™

è¿™æ˜¯æˆ‘ä»¬å¤§å®¶éƒ½åœ¨ä½¿ç”¨çš„å¸¸ç”¨ç®€å†™ä¹‹ä¸€ï¼Œä½†ä»ç„¶å€¼å¾—ä¸€æã€‚

```
// Longhand
if (test1 === true) or if (test1 !== "") or if (test1 !== null)

// Shorthand //it will check empty string,null and undefined too
if (test1)
```

æ³¨æ„ï¼šå¦‚æœ test1 æœ‰ä»»ä½•å€¼ï¼Œå®ƒå°†åœ¨ if å¾ªç¯åè¿›å…¥é€»è¾‘ï¼Œè¯¥è¿ç®—ç¬¦ä¸»è¦ç”¨äº `null` æˆ–`undefined` çš„æ£€æŸ¥ã€‚

### 10.å¤šä¸ªæ¡ä»¶çš„ ANDï¼ˆ&&ï¼‰è¿ç®—ç¬¦

å¦‚æœä»…åœ¨å˜é‡ä¸º `true` çš„æƒ…å†µä¸‹æ‰è°ƒç”¨å‡½æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ `&&` è¿ç®—ç¬¦ã€‚

```
//Longhand
if (test1) {
 callMethod();
}

//Shorthand
test1 && callMethod();
```

### 11.foreach å¾ªç¯ç®€å†™

è¿™æ˜¯è¿­ä»£çš„å¸¸ç”¨ç®€å†™æŠ€æœ¯ä¹‹ä¸€ã€‚

```
// Longhand
for (var i = 0; i < testData.length; i++)

// Shorthand
for (let i in testData) or  for (let i of testData)
```

æ¯ä¸ªå˜é‡çš„æ•°ç»„

```
function testData(element, index, array) {
  console.log('test[' + index + '] = ' + element);
}

[11, 24, 32].forEach(testData);
// logs: test[0] = 11, test[1] = 24, test[2] = 32
```

### 12.return ä¸­æ¯”è¾ƒ

æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ return è¯­å¥ä¸­ä½¿ç”¨æ¯”è¾ƒã€‚å®ƒå°†é¿å…æˆ‘ä»¬çš„ 5 è¡Œä»£ç ï¼Œå¹¶å°†å®ƒä»¬å‡å°‘åˆ° 1 è¡Œã€‚

```
// Longhand
let test;
function checkReturn() {
  if (!(test === undefined)) {
    return test;
  } else {
    return callMe('test');
  }
}
var data = checkReturn();
console.log(data); //output test
function callMe(val) {
    console.log(val);
}

// Shorthand
function checkReturn() {
    return test || callMe('test');
}
```

### 13.ç®­å¤´å‡½æ•°

```
//Longhand
function add(a, b) {
   return a + b;
}

//Shorthand
const add = (a, b) => a + b;
```

æ›´å¤šç¤ºä¾‹ã€‚

```
function callMe(name) {
  console.log('Hello', name);
}
callMe = name => console.log('Hello', name);
```

### 14.çŸ­å‡½æ•°è°ƒç”¨

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚

```
// Longhand
function test1() {
  console.log('test1');
};
function test2() {
  console.log('test2');
};
var test3 = 1;
if (test3 == 1) {
  test1();
} else {
  test2();
}

// Shorthand
(test3 === 1? test1:test2)();
```

### 15. Switch ç®€å†™

æˆ‘ä»¬å¯ä»¥å°†æ¡ä»¶ä¿å­˜åœ¨é”®å€¼å¯¹è±¡ä¸­ï¼Œå¹¶å¯ä»¥æ ¹æ®æ¡ä»¶ä½¿ç”¨ã€‚

```
// Longhand
switch (data) {
  case 1:
    test1();
  break;

  case 2:
    test2();
  break;

  case 3:
    test();
  break;
  // And so on...
}

// Shorthand
var data = {
  1: test1,
  2: test2,
  3: test
};

data[something] && data[something]();
```

### 16.éšå¼è¿”å›ç®€å†™

ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›å€¼ï¼Œè€Œä¸å¿…ç¼–å†™ return è¯­å¥ã€‚

```
//longhand
function calculate(diameter) {
  return Math.PI * diameter
}

//shorthand
calculate = diameter => (
  Math.PI * diameter;
)
```

### 17.å°æ•°åŸºæ•°æŒ‡æ•°

```
// Longhand
for (var i = 0; i < 10000; i++) { ... }

// Shorthand
for (var i = 0; i < 1e4; i++) {
```

### 18.é»˜è®¤å‚æ•°å€¼

```
//Longhand
function add(test1, test2) {
  if (test1 === undefined)
    test1 = 1;
  if (test2 === undefined)
    test2 = 2;
  return test1 + test2;
}

//shorthand
add = (test1 = 1, test2 = 2) => (test1 + test2);
add() //output: 3
```

### 19.æ‰©å±•è¿ç®—ç¬¦ç®€å†™

```
//longhand

// joining arrays using concat
const data = [1, 2, 3];
const test = [4 ,5 , 6].concat(data);

//shorthand

// joining arrays
const data = [1, 2, 3];
const test = [4 ,5 , 6, ...data];
console.log(test); // [ 4, 5, 6, 1, 2, 3]
```

å¯¹äºå…‹éš†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚

```
//longhand

// cloning arrays
const test1 = [1, 2, 3];
const test2 = test1.slice()

//shorthand

// cloning arrays
const test1 = [1, 2, 3];
const test2 = [...test1];
```

### 20.æ¨¡æ¿æ–‡å­—

å¦‚æœæ‚¨åŒå€¦äº†åœ¨å•ä¸ªå­—ç¬¦ä¸²ä¸­ä½¿ç”¨ `+` æ¥è¿æ¥å¤šä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¿™ç§ç®€å†™å¯ä»¥æ¶ˆé™¤æ‚¨çš„å¤´ç—›ã€‚

```
//longhand
const welcome = 'Hi ' + test1 + ' ' + test2 + '.'

//shorthand
const welcome = `Hi ${test1} ${test2}`;
```

### 21.å¤šè¡Œå­—ç¬¦ä¸²ç®€å†™

å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­å¤„ç†å¤šè¡Œå­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š

```
//longhand
const data = 'abc abc abc abc abc abc\n\t'
    + 'test test,test test test test\n\t'

//shorthand
const data = `abc abc abc abc abc abc
         test test,test test test test`
```

### 22.å¯¹è±¡å±æ€§åˆ†é…

```
let test1 = 'a';
let test2 = 'b';

//Longhand
let obj = {test1: test1, test2: test2};

//Shorthand
let obj = {test1, test2};
```

### 23.å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—

```
//Longhand
let test1 = parseInt('123');
let test2 = parseFloat('12.3');

//Shorthand
let test1 = +'123';
let test2 = +'12.3';
```

### 24.ç”¨è§£æ„ç®€å†™

```
//longhand
const test1 = this.data.test1;
const test2 = this.data.test2;
const test2 = this.data.test3;

//shorthand
const { test1, test2, test3 } = this.data;
```

### 25.ç”¨ Array.find ç®€å†™

å½“æˆ‘ä»¬ç¡®å®æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„å¹¶ä¸”æˆ‘ä»¬æƒ³è¦æ ¹æ®å¯¹è±¡å±æ€§æŸ¥æ‰¾ç‰¹å®šå¯¹è±¡æ—¶ï¼Œfind æ–¹æ³•ç¡®å®å¾ˆæœ‰ç”¨ã€‚

```
const data = [
  {
    type: 'test1',
    name: 'abc'
  },
  {
    type: 'test2',
    name: 'cde'
  },
  {
    type: 'test1',
    name: 'fgh'
  },
]
function findtest1(name) {
  for (let i = 0; i < data.length; ++i) {
    if (data[i].type === 'test1' && data[i].name === name) {
      return data[i];
    }
  }
}

//Shorthand
filteredData = data.find(data => data.type === 'test1' && data.name === 'fgh');
console.log(filteredData); // { type: 'test1', name: 'fgh' }
```

### 26.æŸ¥æ‰¾æ¡ä»¶ç®€å†™

å¦‚æœæˆ‘ä»¬æœ‰ä»£ç æ¥æ£€æŸ¥ç±»å‹ï¼Œæ ¹æ®ç±»å‹éœ€è¦è°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨å¤šä¸ª else ifs æˆ–è€… switchï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰æ¯”è¿™æ›´å¥½çš„ç®€å†™æ–¹æ³•å‘¢ï¼Ÿ

```
// Longhand
if (type === 'test1') {
  test1();
}
else if (type === 'test2') {
  test2();
}
else if (type === 'test3') {
  test3();
}
else if (type === 'test4') {
  test4();
} else {
  throw new Error('Invalid value ' + type);
}

// Shorthand
var types = {
  test1: test1,
  test2: test2,
  test3: test3,
  test4: test4
};

var func = types[type];
(!func) && throw new Error('Invalid value ' + type); func();
```

### 27.æŒ‰ä½ç´¢å¼•ç®€å†™

å½“æˆ‘ä»¬éå†æ•°ç»„ä»¥æŸ¥æ‰¾ç‰¹å®šå€¼æ—¶ï¼Œæˆ‘ä»¬ç¡®å®ä½¿ç”¨ `indexOf()` æ–¹æ³•ï¼Œå¦‚æœæ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•è¯¥æ€ä¹ˆåŠï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªä¾‹å­ã€‚

```
//longhand
if(arr.indexOf(item) > -1) { // item found
}
if(arr.indexOf(item) === -1) { // item not found
}

//shorthand
if(~arr.indexOf(item)) { // item found
}
if(!~arr.indexOf(item)) { // item not found
}
```

æŒ‰ä½ï¼ˆ`ã€œ`ï¼‰è¿ç®—ç¬¦å°†è¿”å›é™¤-1 ä»¥å¤–çš„ä»»ä½•å€¼çš„çœŸå®å€¼ã€‚å¦å®šå®ƒå°±åƒåš `~~` ä¸€æ ·ç®€å•ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ `include()` å‡½æ•°ï¼š

```
if (arr.includes(item)) {
    // true if the item found
}
```

### 28.Object.entries()

æ­¤å‡½æ•°æœ‰åŠ©äºå°†å¯¹è±¡è½¬æ¢ä¸ºå¯¹è±¡æ•°ç»„ã€‚

```
const data = { test1: 'abc', test2: 'cde', test3: 'efg' };
const arr = Object.entries(data);
console.log(arr);
/** Output:
[ [ 'test1', 'abc' ],
  [ 'test2', 'cde' ],
  [ 'test3', 'efg' ]
]
**/
```

### 29.Object.values()

è¿™ä¹Ÿæ˜¯ ES8 ä¸­å¼•å…¥çš„ä¸€é¡¹æ–°åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½æ‰§è¡Œä¸ `Object.entries()` ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†æ²¡æœ‰å…³é”®éƒ¨åˆ†ï¼š

```
const data = { test1: 'abc', test2: 'cde' };
const arr = Object.values(data);
console.log(arr);
/** Output:
[ 'abc', 'cde']
**/
```

### 30.åŒæŒ‰ä½ç®€å†™

åŒé‡ NOT æŒ‰ä½è¿ç®—ç¬¦æ–¹æ³•ä»…é€‚ç”¨äº 32 ä½æ•´æ•°ï¼‰

```
// Longhand
Math.floor(1.9) === 1 // true

// Shorthand
~~1.9 === 1 // true
```

### 31.é‡å¤ä¸€ä¸ªå­—ç¬¦ä¸²å¤šæ¬¡

è¦ä¸€æ¬¡åˆä¸€æ¬¡åœ°é‡å¤ç›¸åŒçš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for å¾ªç¯å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°åŒä¸€å¾ªç¯ä¸­ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å†™æ–¹æ³•å‘¢ï¼Ÿ

```
//longhand
let test = '';
for(let i = 0; i < 5; i ++) {
  test += 'test ';
}
console.log(str); // test test test test test

//shorthand
'test '.repeat(5);
```

### 32.åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æœ€å¤§å€¼å’Œæœ€å°å€¼

```
const arr = [1, 2, 3];
Math.max(â€¦arr); // 3
Math.min(â€¦arr); // 1
```

### 33.ä»å­—ç¬¦ä¸²ä¸­è·å–å­—ç¬¦

```
let str = 'abc';

//Longhand
str.charAt(2); // c

//Shorthand
Note: If we know the index of the array then we can directly use index insted of character.If we are not sure about index it can throw undefined
str[2]; // c
```

### 34.æ•°å­¦æŒ‡æ•°å¹‚å‡½æ•°çš„ç®€å†™

```
//longhand
Math.pow(2,3); // 8

//shorthand
2**3 // 8
```



### // æ•°ç»„å¯¹è±¡æ’åº   

```js
let objArr = [{ name: 'lisi', age: 20 }, { name: 'yalr', age: 18 }, { name: 'xiaoming', age: 30 },]    
const sortNumArr = objArr.sort((a, b) => a.age - b.age) 
```

//æ ¹æ®æ•°å­—å¯¹æ¯”æ’åº    

```js
const sortStrArr = JSON.parse(
  JSON.stringify(objArr)).sort((a, b) => a.name.localeCompare(b.name)
)
```

 //æ ¹æ®å­—ç¬¦ä¸²æ’åº(ä¸­æ–‡ä¹Ÿå¯ä»¥)    

```js
console.log(sortNumArr, sortStrArr);     
```

### // è¿‡æ»¤è™šå€¼ ( 0,undefined,null,false,'',"" )    

```js
let Filtervirtual = [0, 100, '', 'any', null].filter(Boolean) // è¾“å‡º [100, "any"]    
```



###  // å»é™¤æ•°ç»„ä¸­çš„é‡å¤å€¼    const repeatArr = [10, 30, 50, 10, 100, 50, 9]    	

```js
// 1.é€šè¿‡filteræ–¹æ³•    
const removeRepeat = repeatArr.filter((item, index,arr) => arr.indexOf(item) == index)    	

// 2.é€šè¿‡es6çš„Set   
 const setArr = [...new Set(repeatArr)]    
```



### //è®¡ç®—å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å‡ºç°çš„æ¬¡æ•°   

```js
let string = 'sadlsakdlzaasd'    
function counter(str) {       
let table = {}        
for (let attr of str) {          
  table[attr] = table[attr] + 1 || 1      
  }      
  return table   
 }   
 console.log(counter(string)); // è¾“å‡º{s: 3, a: 4, d: 3, l: 2, k: 1, z: 1}    
```

###  // å°†åè¿›åˆ¶è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æˆ–16è¿›åˆ¶   

```js
 const num = 10    

const towNum = num.toString(2) // 1010    

const eightNum = num.toString(8) // 12    

const sixteenNum = num.toString(16) // a   
```

###  // å°†objectå±æ€§è½¬åŒ–ä¸ºå±æ€§æ•°ç»„    

```js
const obj = { a: 1, b: 2, c: 3 }    
console.log(Object.entries(obj)); // [["a", 1], ["b", 2] ,["c", 3]]  
```

// ä½¿ç”¨è§£æ„å±•å¼€å’Œæ’å…¥    

```js
let objB = { a: 100,b: 20 }    

let NewObj = { name:'lisi',...objB,hobby:'sing' } //{name: "lisi", a: 100, b: 20, hobby: "sing"}
```

## 100ä¸ªjså¸¸ç”¨ä»£ç ç‰‡æ®µ

#### å®ç°å­—ç¬¦ä¸²é•¿åº¦æˆª

```
function cutstr(str, len) {
  var temp;
  var icount = 0;
  var patrn = /[^\x00-\xff]/;
  var strre = "";   
  	for (var i = 0; i < str.length; i++) { 
  		if (icount < len - 1) { 
      	temp = str.substr(i, 1);
  			if (patrn.exec(temp) == null) { 
  				icount = icount + 1       
  			 } else { 
  				icount = icount + 2       
  			 }        
  			strre += temp      
 		 	 } else { 
  			break      
  		}    
  	}  
  return strre + "..." 
}
```

#### è·å–åŸŸåä¸»æœº

```
function getHost(url) { 
var host = "null";  
if(typeof url == "undefined"|| null == url) { 
url = window.location.href;  
}   
var regex = /^\w+\:\/\/([^\/]*).*/; 
var match = url.match(regex); 
if(typeof match != "undefined" && null != match) {  
host = match[1];  
}   
return host;
}
```

#### æ¸…é™¤ç©ºæ ¼

```
 String.prototype.trim = function() {  
 var reExtraSpace = /^\s*(.*?)\s+$/; 
 return this.replace(reExtraSpace, "$1") 
 }
```

#### æ›¿æ¢å…¨éƒ¨

```
  String.prototype.replaceAll = function(s1, s2) { 
  return this.replace(new RegExp(s1, "gm"), s2) 
  }
```

#### è½¬ä¹‰htmlæ ‡ç­¾

```
 function HtmlEncode(text) { 
 return text.replace(/&/g, '&').replace(/\"/g, '"').replace(/, '<').replace(/>/g, '>')   }
```

#### ç”ŸJavaScriptè¿˜åŸhtmlæ ‡ç­¾

```
 function HtmlDecode(text) { 
 return text.replace(/&/g, '&').replace(/"/g, '\"').replace(/, '<').replace(/>/g, '>')   }
```

#### æ—¶é—´æ—¥æœŸæ ¼å¼è½¬æ¢

```
Date.prototype.Format = function(formatStr) {  
var str = formatStr;  
var Week = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];   
str = str.replace(/yyyy|YYYY/, this.getFullYear());  
str = str.replace(/yy|YY/, (this.getYear() % 100) > 9 ? (this.getYear() % 100).toString() : '0' + (this.getYear() % 100));  
str = str.replace(/MM/, (this.getMonth() + 1) > 9 ? (this.getMonth() + 1).toString() : '0' + (this.getMonth() + 1)); 
str = str.replace(/M/g, (this.getMonth() + 1));  
str = str.replace(/w|W/g, Week[this.getDay()]); 
str = str.replace(/dd|DD/, this.getDate() > 9 ? this.getDate().toString() : '0' + this.getDate());
str = str.replace(/d|D/g, this.getDate()); 
str = str.replace(/hh|HH/, this.getHours() > 9 ? this.getHours().toString() : '0' + this.getHours()); 
str = str.replace(/h|H/g, this.getHours());  
str = str.replace(/mm/, this.getMinutes() > 9 ? this.getMinutes().toString() : '0' + this.getMinutes()); 
str = str.replace(/m/g, this.getMinutes());  
str = str.replace(/ss|SS/, this.getSeconds() > 9 ? this.getSeconds().toString() : '0' + this.getSeconds());   
str = str.replace(/s|S/g, this.getSeconds());  
return str 
}
```

#### åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ç±»å‹

```
function isDigit(value) { 
var patrn = /^[0-9]*$/; 
if (patrn.exec(value) == null || value == "") { 
return false  
} else {  
return true   
} 
}
```

#### è®¾ç½®cookieå€¼

```
function setCookie(name, value, Hours) {   
var d = new Date();  
var offset = 8; 
var utc = d.getTime() + (d.getTimezoneOffset() * 60000);  
var nd = utc + (3600000 * offset);
var exp = new Date(nd); 
exp.setTime(exp.getTime() + Hours * 60 * 60 * 1000); 
document.cookie = name + "=" + escape(value) + ";path=/;expires=" + exp.toGMTString() + ";domain=360doc.com;" 
}
```

#### è·å–cookieå€¼

```
function getCookie(name) { 
var arr = document.cookie.match(new RegExp("(^| )" + name + "=([^;]*)(;|$)")); 
if (arr != null) return unescape(arr[2]); 
return null
}
```

#### åŠ å…¥æ”¶è—å¤¹

```
function AddFavorite(sURL, sTitle) {   
try {  
window.external.addFavorite(sURL, sTitle)
} 
catch(e) {  
  try {    
  window.sidebar.addPanel(sTitle, sURL, "")  
  }
  catch(e) {   
  alert("åŠ å…¥æ”¶è—å¤±è´¥ï¼Œè¯·ä½¿ç”¨Ctrl+Dè¿›è¡Œæ·»åŠ ")  
  } 
} 
}
```

#### è®¾ä¸ºé¦–é¡µ

```
function setHomepage() {  
if (document.all) {  
document.body.style.behavior = 'url(#default#homepage)';      document.body.setHomePage('http://***') 
} else if (window.sidebar) {   
if (window.netscape) {    
try {    
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")    
} 
catch(e) {   
alert("è¯¥æ“ä½œè¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¦‚æœæƒ³å¯ç”¨è¯¥åŠŸèƒ½ï¼Œè¯·åœ¨åœ°å€æ å†…è¾“å…¥ about:config,ç„¶åå°†é¡¹ signed.applets.codebase_principal_support å€¼è¯¥ä¸ºtrue")   
}   
}   
var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces.nsIPrefBranch);   
prefs.setCharPref('browser.startup.homepage', 'http://***') 
} 
}
```

#### åˆ¤æ–­IE6

```
var ua = navigator.userAgent.toLowerCase(); 
var isIE6 = ua.indexOf("msie 6") > -1; 
if (isIE6) {  
try {   
document.execCommand("BackgroundImageCache", false, true) 
}
catch(e) {} 
}
```

#### åŠ è½½æ ·å¼æ–‡ä»¶

```
function LoadStyle(url) {  
try {   
document.createStyleSheet(url) 
}
catch(e) { 
var cssLink = document.createElement('link');  
cssLink.rel = 'stylesheet';  
cssLink.type = 'text/css'; 
cssLink.href = url;   
var head = document.getElementsByTagName('head')[0];   
head.appendChild(cssLink)  
} 
}
```

#### è¿”å›è„šæœ¬å†…å®¹

```
function evalscript(s) {  
if(s.indexOf('<script'< span>) == -1) return s; 
var p = /]*?>([^\x00]*?)<\ script="">/ig; 
var arr = [];   
while(arr = p.exec(s)) {   
var p1 = /]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\ script="">/i;  
var arr1 = [];  
arr1 = p1.exec(arr[0]); 
if(arr1) {    
appendscript(arr1[1], '', arr1[2], arr1[3]);  
} else {   
p1 = /;  
arr1 = p1.exec(arr[0]);  
appendscript('', arr1[2], arr1[1].indexOf('reload=') != -1);  
}  
}  
return s;
}
```

#### æ¸…é™¤è„šæœ¬å†…å®¹

```
function stripscript(s) {  
return s.replace(/, '');
}
```

#### åŠ¨æ€åŠ è½½è„šæœ¬æ–‡ä»¶

```
function appendscript(src, text, reload, charset) {    var id = hash(src + text);    if(!reload && in_array(id, evalscripts)) return;    if(reload && $(id)) {      $(id).parentNode.removeChild($(id));    }       evalscripts.push(id);    var scriptNode = document.createElement("script");    scriptNode.type = "text/javascript";    scriptNode.id = id;    scriptNode.charset = charset ? charset : (BROWSER.firefox ? document.characterSet : document.charset);    try {      if(src) {        scriptNode.src = src;        scriptNode.onloadDone = false;        scriptNode.onload = function () {          scriptNode.onloadDone = true;          JSLOADED[src] = 1;        };        scriptNode.onreadystatechange = function () {          if((scriptNode.readyState == 'loaded' || scriptNode.readyState == 'complete') && !scriptNode.onloadDone) {            scriptNode.onloadDone = true;            JSLOADED[src] = 1;          }        };      } else if(text){        scriptNode.text = text;      }      document.getElementsByTagName('head')[0].appendChild(scriptNode);    } catch(e) {}  }
```

#### è¿”å›æŒ‰IDæ£€ç´¢çš„å…ƒç´ å¯¹è±¡

```
 function $(id) {     return !id ? null : document.getElementById(id);   }
```

#### è¿”å›æµè§ˆå™¨ç‰ˆæœ¬å†…å®¹

```
function browserVersion(types) {    var other = 1;    for(i in types) {      var v = types[i] ? types[i] : i;      if(USERAGENT.indexOf(v) != -1) {        var re = new RegExp(v + '(\\/|\\s)([\\d\\.]+)', 'ig');        var matches = re.exec(USERAGENT);        var ver = matches != null ? matches[2] : 0;        other = ver !== 0 && v != 'mozilla' ? 0 : other;      }else {        var ver = 0;      }      eval('BROWSER.' + i + '= ver');    }    BROWSER.other = other;  }
```

#### å…ƒç´ æ˜¾ç¤ºçš„é€šç”¨æ–¹æ³•

```
function $(id) {    return !id ? null : document.getElementById(id);  }  function display(id) {    var obj = $(id);    if(obj.style.visibility) {      obj.style.visibility = obj.style.visibility == 'visible' ? 'hidden' : 'visible';    } else {      obj.style.display = obj.style.display == '' ? 'none' : '';    }  }
```

#### ä¸­æœ‰insertBeforeæ–¹æ³•,å¯æƒœå´æ²¡æœ‰insertAfteræ–¹æ³•?ç”¨å¦‚ä¸‹å‡½æ•°å®ç°

```
function insertAfter(newChild,refChild){   var parElem=refChild.parentNode;   if(parElem.lastChild==refChild){     refChild.appendChild(newChild);   }else{     parElem.insertBefore(newChild,refChild.nextSibling);   } }
```

#### ä¸­å…¼å®¹æµè§ˆå™¨ç»‘å®šå…ƒç´ äº‹ä»¶

```
function addEventSamp(obj,evt,fn){   if (obj.addEventListener) {     obj.addEventListener(evt, fn, false);   }else if(obj.attachEvent){     obj.attachEvent('on'+evt,fn);   } }
```

#### å…‰æ ‡åœåœ¨æ–‡å­—çš„åé¢ï¼Œæ–‡æœ¬æ¡†è·å¾—ç„¦ç‚¹æ—¶è°ƒç”¨

```
function focusLast(){   var e = event.srcElement;   var r =e.createTextRange();   r.moveStart('character',e.value.length);   r.collapse(true);   r.select(); }
```

#### æ£€éªŒURLé“¾æ¥æ˜¯å¦æœ‰æ•ˆ

```
function getUrlState(URL){   var xmlhttp = new ActiveXObject("microsoft.xmlhttp");   xmlhttp.Open("GET",URL, false);   try{     xmlhttp.Send();   }catch(e){  }finally{     var result = xmlhttp.responseText;     if(result){       if(xmlhttp.Status==200){         return(true);       }else{         return(false);       }     }else{       return(false);     }   } }
```

#### æ ¼å¼åŒ–CSSæ ·å¼ä»£ç 

```
function formatCss(s){//æ ¼å¼åŒ–ä»£ç   s = s.replace(/\s*([\{\}\:\;\,])\s*/g, "$1");  s = s.replace(/;\s*;/g, ";"); //æ¸…é™¤è¿ç»­åˆ†å·  s = s.replace(/\,[\s\.\#\d]*{/g, "{");  s = s.replace(/([^\s])\{([^\s])/g, "$1 {\n\t$2");  s = s.replace(/([^\s])\}([^\n]*)/g, "$1\n}\n$2");  s = s.replace(/([^\s]);([^\s\}])/g, "$1;\n\t$2");  return s;}
```

#### å‹ç¼©CSSæ ·å¼ä»£ç 

```
function yasuoCss (s) {//å‹ç¼©ä»£ç   s = s.replace(/\/\*(.|\n)*?\*\//g, ""); //åˆ é™¤æ³¨é‡Š  s = s.replace(/\s*([\{\}\:\;\,])\s*/g, "$1");  s = s.replace(/\,[\s\.\#\d]*\{/g, "{"); //å®¹é”™å¤„ç†  s = s.replace(/;\s*;/g, ";"); //æ¸…é™¤è¿ç»­åˆ†å·  s = s.match(/^\s*(\S+(\s+\S+)*)\s*$/); //å»æ‰é¦–å°¾ç©ºç™½  return (s == null) ? "" : s[1];}
```

#### è·å–å½“å‰è·¯å¾„

```
var currentPageUrl = "";if (typeof this.href === "undefined") {  currentPageUrl = document.location.toString().toLowerCase();}else {  currentPageUrl = this.href.toString().toLowerCase();}
```

#### IPè½¬æˆæ•´å‹

```
function _ip2int(ip){  var num = 0;  ip = ip.split(".");  num = Number(ip[0]) * 256 * 256 * 256 + Number(ip[1]) * 256 * 256 + Number(ip[2]) * 256 + Number(ip[3]);  num = num >>> 0;  return num;}
```

#### æ•´å‹è§£æä¸ºIPåœ°å€

```
function _int2iP(num){  var str;  var tt = new Array();  tt[0] = (num >>> 24) >>> 0;  tt[1] = ((num << 8) >>> 24) >>> 0;  tt[2] = (num << 16) >>> 24;  tt[3] = (num << 24) >>> 24;  str = String(tt[0]) + "." + String(tt[1]) + "." + String(tt[2]) + "." + String(tt[3]);  return str;}
```

#### å®ç°checkboxå…¨é€‰ä¸å…¨ä¸é€‰

```
function checkAll() {  var selectall = document.getElementById("selectall");  var allbox = document.getElementsByName("allbox");  if (selectall.checked) {    for (var i = 0; i < allbox.length; i++) {      allbox[i].checked = true;    }  } else {    for (var i = 0; i < allbox.length; i++) {      allbox[i].checked = false;    }  }}
```

#### åˆ¤æ–­æ˜¯å¦ç§»åŠ¨è®¾å¤‡

```
function isMobile(){  if (typeof this._isMobile === 'boolean'){    return this._isMobile;  }  var screenWidth = this.getScreenWidth();  var fixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;  var fixViewPortsExperimentRunning = fixViewPortsExperiment && (fixViewPortsExperiment.toLowerCase() === "new");  if(!fixViewPortsExperiment){    if(!this.isAppleMobileDevice()){      screenWidth = screenWidth/window.devicePixelRatio;    }  }  var isMobileScreenSize = screenWidth < 600;  var isMobileUserAgent = false;  this._isMobile = isMobileScreenSize && this.isTouchScreen();  return this._isMobile;}
```

#### åˆ¤æ–­æ˜¯å¦ç§»åŠ¨è®¾å¤‡è®¿é—®

```
 function isMobileUserAgent(){   return (/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase())); }
```

#### åˆ¤æ–­æ˜¯å¦è‹¹æœç§»åŠ¨è®¾å¤‡è®¿é—®

```
1 function isAppleMobileDevice(){2   return (/iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase()));3 }
```

#### åˆ¤æ–­æ˜¯å¦å®‰å“ç§»åŠ¨è®¾å¤‡è®¿é—®

```
1 function isAndroidMobileDevice(){2   return (/android/i.test(navigator.userAgent.toLowerCase()));3 }
```

#### åˆ¤æ–­æ˜¯å¦Touchå±å¹•

```
1 function isTouchScreen(){2   return (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);3 }
```

#### åˆ¤æ–­æ˜¯å¦åœ¨å®‰å“ä¸Šçš„è°·æ­Œæµè§ˆå™¨

```
function isNewChromeOnAndroid(){  if(this.isAndroidMobileDevice()){    var userAgent = navigator.userAgent.toLowerCase();    if((/chrome/i.test(userAgent))){      var parts = userAgent.split('chrome/');      var fullVersionString = parts[1].split(" ")[0];      var versionString = fullVersionString.split('.')[0];      var version = parseInt(versionString);      if(version >= 27){        return true;      }    }  }  return false;}
```

#### åˆ¤æ–­æ˜¯å¦æ‰“å¼€è§†çª—

```
1 function isViewportOpen() {2   return !!document.getElementById('wixMobileViewport');3 }
```

#### è·å–ç§»åŠ¨è®¾å¤‡åˆå§‹åŒ–å¤§å°

```
function getInitZoom(){  if(!this._initZoom){    var screenWidth = Math.min(screen.height, screen.width);    if(this.isAndroidMobileDevice() && !this.isNewChromeOnAndroid()){      screenWidth = screenWidth/window.devicePixelRatio;    }    this._initZoom = screenWidth /document.body.offsetWidth;  }  return this._initZoom;}
```

#### è·å–ç§»åŠ¨è®¾å¤‡æœ€å¤§åŒ–å¤§å°

```
function getZoom(){  var screenWidth = (Math.abs(window.orientation) === 90) ? Math.max(screen.height, screen.width) : Math.min(screen.height, screen.width);  if(this.isAndroidMobileDevice() && !this.isNewChromeOnAndroid()){    screenWidth = screenWidth/window.devicePixelRatio;  }  var FixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;  var FixViewPortsExperimentRunning = FixViewPortsExperiment && (FixViewPortsExperiment === "New" || FixViewPortsExperiment === "new");  if(FixViewPortsExperimentRunning){    return screenWidth / window.innerWidth;  }else{    return screenWidth / document.body.offsetWidth;  }}
```

#### è·å–ç§»åŠ¨è®¾å¤‡å±å¹•å®½åº¦

```
function getScreenWidth(){  var smallerSide = Math.min(screen.width, screen.height);  var fixViewPortsExperiment = rendererModel.runningExperiments.FixViewport || rendererModel.runningExperiments.fixviewport;  var fixViewPortsExperimentRunning = fixViewPortsExperiment && (fixViewPortsExperiment.toLowerCase() === "new");  if(fixViewPortsExperiment){    if(this.isAndroidMobileDevice() && !this.isNewChromeOnAndroid()){      smallerSide = smallerSide/window.devicePixelRatio;    }  }  return smallerSide;}
```

#### å®Œç¾åˆ¤æ–­æ˜¯å¦ä¸ºç½‘å€

```
function IsURL(strUrl) {  var regular = /^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i  if (regular.test(strUrl)) {    return true;  }  else {    return false;  }}
```

#### æ ¹æ®æ ·å¼åç§°æ£€ç´¢å…ƒç´ å¯¹è±¡

```
function getElementsByClassName(name) {  var tags = document.getElementsByTagName('*') || document.all;  var els = [];  for (var i = 0; i < tags.length; i++) {    if (tags[i].className) {      var cs = tags[i].className.split(' ');      for (var j = 0; j < cs.length; j++) {        if (name == cs[j]) {          els.push(tags[i]);          break        }      }    }  }  return els}
```

#### åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²å¼€å¤´

```
1 String.prototype.startWith = function (s) {2   return this.indexOf(s) == 03 }
```

#### åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“æŸ

```
1 String.prototype.endWith = function (s) {2   var d = this.length - s.length;3   return (d >= 0 && this.lastIndexOf(s) == d)4 }
```

#### è¿”å›IEæµè§ˆå™¨çš„ç‰ˆæœ¬å·

```
function getIE(){  if (window.ActiveXObject){    var v = navigator.userAgent.match(/MSIE ([^;]+)/)[1];    return parseFloat(v.substring(0, v.indexOf(".")))  }  return false}
```

#### è·å–é¡µé¢é«˜åº¦

```
function getPageHeight(){  var g = document, a = g.body, f = g.documentElement, d = g.compatMode == "BackCompat"      ? a      : g.documentElement;  return Math.max(f.scrollHeight, a.scrollHeight, d.clientHeight);}
```

#### è·å–é¡µé¢scrollLeft

```
1 function getPageScrollLeft(){2   var a = document;3   return a.documentElement.scrollLeft || a.body.scrollLeft;4 }
```

#### è·å–é¡µé¢å¯è§†å®½åº¦

```
function getPageViewWidth(){  var d = document, a = d.compatMode == "BackCompat"      ? d.body      : d.documentElement;  return a.clientWidth;}
```

#### è·å–é¡µé¢å®½åº¦

- 

```
function getPageWidth(){  var g = document, a = g.body, f = g.documentElement, d = g.compatMode == "BackCompat"      ? a      : g.documentElement;  return Math.max(f.scrollWidth, a.scrollWidth, d.clientWidth);}
```

#### è·å–é¡µé¢scrollTop

```
1 function getPageScrollTop(){2   var a = document;3   return a.documentElement.scrollTop || a.body.scrollTop;4 }
```

#### è·å–é¡µé¢å¯è§†é«˜åº¦

```
function getPageViewHeight() {  var d = document, a = d.compatMode == "BackCompat"      ? d.body      : d.documentElement;  return a.clientHeight;}
```

#### è·¨æµè§ˆå™¨æ·»åŠ äº‹ä»¶

```
function addEvt(oTarget,sEvtType,fnHandle){  if(!oTarget){return;}  if(oTarget.addEventListener){    oTarget.addEventListener(sEvtType,fnHandle,false);  }else if(oTarget.attachEvent){    oTarget.attachEvent("on" + sEvtType,fnHandle);  }else{    oTarget["on" + sEvtType] = fnHandle;  }}
```

#### è·¨æµè§ˆå™¨åˆ é™¤äº‹ä»¶

- 

```
function delEvt(oTarget,sEvtType,fnHandle){  if(!oTarget){return;}  if(oTarget.addEventListener){    oTarget.addEventListener(sEvtType,fnHandle,false);  }else if(oTarget.attachEvent){    oTarget.attachEvent("on" + sEvtType,fnHandle);  }else{    oTarget["on" + sEvtType] = fnHandle;  }}
```

#### å»æ‰urlå‰ç¼€

```
function removeUrlPrefix(a){ a=a.replace(/ï¼š/g,":").replace(/ï¼/g,".").replace(/ï¼/g,"/"); while(trim(a).toLowerCase().indexOf("http://")==0){  a=trim(a.replace(/http:\/\//i,"")); } return a;}
```

#### éšæœºæ•°æ—¶é—´æˆ³

```
1 function uniqueId(){2   var a=Math.random,b=parseInt;3   return Number(new Date()).toString()+b(10*a())+b(10*a())+b(10*a());4 }
```

#### å…¨è§’åŠè§’è½¬æ¢,iCase: 0å…¨åˆ°åŠï¼Œ1åŠåˆ°å…¨ï¼Œå…¶ä»–ä¸è½¬åŒ–

```
function chgCase(sStr,iCase){  if(typeof sStr != "string" || sStr.length <= 0 || !(iCase === 0 || iCase == 1)){    return sStr;  }  var i,oRs=[],iCode;  if(iCase){/*åŠ->å…¨*/    for(i=0; i<sstr.length;i+=1){       iCode = sStr.charCodeAt(i);      if(iCode == 32){        iCode = 12288;              }else if(iCode < 127){        iCode += 65248;      }      oRs.push(String.fromCharCode(iCode));     }      }else{/*å…¨->åŠ*/    for(i=0; i<sstr.length;i+=1){       iCode = sStr.charCodeAt(i);      if(iCode == 12288){        iCode = 32;      }else if(iCode > 65280 && iCode < 65375){        iCode -= 65248;              }      oRs.push(String.fromCharCode(iCode));     }      }      return oRs.join("");    }
```

#### ç¡®è®¤æ˜¯å¦é”®ç›˜æœ‰æ•ˆè¾“å…¥å€¼

```
function checkKey(iKey){  if(iKey == 32 || iKey == 229){return true;}/*ç©ºæ ¼å’Œå¼‚å¸¸*/  if(iKey>47 && iKey < 58){return true;}/*æ•°å­—*/  if(iKey>64 && iKey < 91){return true;}/*å­—æ¯*/  if(iKey>95 && iKey < 108){return true;}/*æ•°å­—é”®ç›˜1*/  if(iKey>108 && iKey < 112){return true;}/*æ•°å­—é”®ç›˜2*/  if(iKey>185 && iKey < 193){return true;}/*ç¬¦å·1*/  if(iKey>218 && iKey < 223){return true;}/*ç¬¦å·2*/  return false;}
```

#### è·å–ç½‘é¡µè¢«å·å»çš„ä½ç½®

```
function getScrollXY() {  return document.body.scrollTop ? {    x: document.body.scrollLeft,    y: document.body.scrollTop  }: {    x: document.documentElement.scrollLeft,    y: document.documentElement.scrollTop  }}
```

#### å¦ä¸€ç§æ­£åˆ™æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°+è°ƒç”¨æ–¹æ³•

```
Date.prototype.format = function(format){ //author: meizz var o = {  "M+" : this.getMonth()+1, //month  "d+" : this.getDate(),  //day  "h+" : this.getHours(),  //hour  "m+" : this.getMinutes(), //minute  "s+" : this.getSeconds(), //second  "q+" : Math.floor((this.getMonth()+3)/3), //quarter  "S" : this.getMilliseconds() //millisecond } if(/(y+)/.test(format)) format=format.replace(RegExp.$1,  (this.getFullYear()+"").substr(4 - RegExp.$1.length)); for(var k in o)if(new RegExp("("+ k +")").test(format))  format = format.replace(RegExp.$1,   RegExp.$1.length==1 ? o[k] :    ("00"+ o[k]).substr((""+ o[k]).length)); return format;}alert(new Date().format("yyyy-MM-dd hh:mm:ss"));
```

#### æ—¶é—´ä¸ªæ€§åŒ–è¾“å‡ºåŠŸèƒ½

```
/*1ã€< 60s, æ˜¾ç¤ºä¸ºâ€œåˆšåˆšâ€2ã€>= 1min && < 60 min, æ˜¾ç¤ºä¸å½“å‰æ—¶é—´å·®â€œXXåˆ†é’Ÿå‰â€3ã€>= 60min && < 1day, æ˜¾ç¤ºä¸å½“å‰æ—¶é—´å·®â€œä»Šå¤© XX:XXâ€4ã€>= 1day && < 1year, æ˜¾ç¤ºæ—¥æœŸâ€œXXæœˆXXæ—¥ XX:XXâ€5ã€>= 1year, æ˜¾ç¤ºå…·ä½“æ—¥æœŸâ€œXXXXå¹´XXæœˆXXæ—¥ XX:XXâ€ */function timeFormat(time){ var date = new Date(time)  , curDate = new Date()  , year = date.getFullYear()  , month = date.getMonth() + 1  , day = date.getDate()  , hour = date.getHours()  , minute = date.getMinutes()  , curYear = curDate.getFullYear()  , curHour = curDate.getHours()  , timeStr; if(year < curYear){  timeStr = year +'å¹´'+ month +'æœˆ'+ day +'æ—¥ '+ hour +':'+ minute; }else{  var pastTime = curDate - date   , pastH = pastTime/3600000;  if(pastH > curHour){   timeStr = month +'æœˆ'+ day +'æ—¥ '+ hour +':'+ minute;  }else if(pastH >= 1){   timeStr = 'ä»Šå¤© ' + hour +':'+ minute +'åˆ†';  }else{   var pastM = curDate.getMinutes() - minute;   if(pastM > 1){    timeStr = pastM +'åˆ†é’Ÿå‰';   }else{    timeStr = 'åˆšåˆš';   }  } } return timeStr;}
```

#### è§£å†³offsetXå…¼å®¹æ€§é—®é¢˜

```
// é’ˆå¯¹ç«ç‹ä¸æ”¯æŒoffsetX/Yfunction getOffset(e){ var target = e.target, // å½“å‰è§¦å‘çš„ç›®æ ‡å¯¹è±¡   eventCoord,   pageCoord,   offsetCoord; // è®¡ç®—å½“å‰è§¦å‘å…ƒç´ åˆ°æ–‡æ¡£çš„è·ç¦» pageCoord = getPageCoord(target); // è®¡ç®—å…‰æ ‡åˆ°æ–‡æ¡£çš„è·ç¦» eventCoord = {  X : window.pageXOffset + e.clientX,  Y : window.pageYOffset + e.clientY }; // ç›¸å‡è·å–å…‰æ ‡åˆ°ç¬¬ä¸€ä¸ªå®šä½çš„çˆ¶å…ƒç´ çš„åæ ‡ offsetCoord = {  X : eventCoord.X - pageCoord.X,  Y : eventCoord.Y - pageCoord.Y }; return offsetCoord;}function getPageCoord(element){ var coord = { X : 0, Y : 0 }; // è®¡ç®—ä»å½“å‰è§¦å‘å…ƒç´ åˆ°æ ¹èŠ‚ç‚¹ä¸ºæ­¢ï¼Œ // å„çº§ offsetParent å…ƒç´ çš„ offsetLeft æˆ– offsetTop å€¼ä¹‹å’Œ while (element){  coord.X += element.offsetLeft;  coord.Y += element.offsetTop;  element = element.offsetParent; } return coord;}
```

#### å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼

```
//æ­£æ•´æ•°/^[0-9]*[1-9][0-9]*$/;//è´Ÿæ•´æ•°/^-[0-9]*[1-9][0-9]*$/;//æ­£æµ®ç‚¹æ•°/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/;  //è´Ÿæµ®ç‚¹æ•°/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/; //æµ®ç‚¹æ•°/^(-?\d+)(\.\d+)?$/;//emailåœ°å€/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;//urlåœ°å€/^[a-zA-z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/;//å¹´/æœˆ/æ—¥ï¼ˆå¹´-æœˆ-æ—¥ã€å¹´.æœˆ.æ—¥ï¼‰/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/;//åŒ¹é…ä¸­æ–‡å­—ç¬¦/[\u4e00-\u9fa5]/;//åŒ¹é…å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-10å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)/^[a-zA-Z][a-zA-Z0-9_]{4,9}$/;//åŒ¹é…ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼/\n\s*\r/;//åŒ¹é…ä¸­å›½é‚®æ”¿ç¼–ç /[1-9]\d{5}(?!\d)/;//åŒ¹é…èº«ä»½è¯/\d{15}|\d{18}/;//åŒ¹é…å›½å†…ç”µè¯å·ç /(\d{3}-|\d{4}-)?(\d{8}|\d{7})?/;//åŒ¹é…IPåœ°å€/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/;//åŒ¹é…é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼/^\s*|\s*$/;//åŒ¹é…HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼< (\S*?)[^>]*>.*?|< .*? />;
```

#### å®ç°è¿”å›é¡¶éƒ¨çš„é€šç”¨æ–¹æ³•

```
function backTop(btnId) {  var btn = document.getElementById(btnId);  var d = document.documentElement;  var b = document.body;  window.onscroll = set;  btn.style.display = "none";  btn.onclick = function() {    btn.style.display = "none";    window.onscroll = null;    this.timer = setInterval(function() {      d.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);      b.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);      if ((d.scrollTop + b.scrollTop) == 0) clearInterval(btn.timer, window.onscroll = set);    },    10);  };  function set() {    btn.style.display = (d.scrollTop + b.scrollTop > 100) ? 'block': "none"  }};backTop('goTop');
```

#### è·å¾—URLä¸­GETå‚æ•°å€¼

```
// ç”¨æ³•ï¼šå¦‚æœåœ°å€æ˜¯ test.htm?t1=1&t2=2&t3=3, é‚£ä¹ˆèƒ½å–å¾—ï¼šGET["t1"], GET["t2"], GET["t3"]function get_get(){  querystr = window.location.href.split("?") if(querystr[1]){  GETs = querystr[1].split("&")  GET =new Array()  for(i=0;i<gets.length;i++){   tmp_arr = GETs[i].split("=")   key=tmp_arr[0]   GET[key] = tmp_arr[1]  } } return querystr[1];}
```

#### å®ç°å…¨é€‰é€šç”¨æ–¹æ³•

```
function checkall(form, prefix, checkall) {  var checkall = checkall ? checkall : 'chkall';  for(var i = 0; i < form.elements.length; i++) {    var e = form.elements[i];    if(e.type=="checkbox"){      e.checked = form.elements[checkall].checked;    }  }}
```

#### å®ç°å…¨éƒ¨å–æ¶ˆé€‰æ‹©é€šç”¨æ–¹æ³•

```
function uncheckAll(form) {  for (var i=0;i<form.elements.length;i++){    var e = form.elements[i];    if (e.name != 'chkall')    e.checked=!e.checked;  }}
```

#### å®ç°æ‰“å¼€ä¸€ä¸ªçª—ä½“é€šç”¨æ–¹æ³•

```
function openWindow(url,windowName,width,height){  var x = parseInt(screen.width / 2.0) - (width / 2.0);   var y = parseInt(screen.height / 2.0) - (height / 2.0);  var isMSIE= (navigator.appName == "Microsoft Internet Explorer");  if (isMSIE) {    var p = "resizable=1,location=no,scrollbars=no,width=";    p = p+width;    p = p+",height=";    p = p+height;    p = p+",left=";    p = p+x;    p = p+",top=";    p = p+y;    retval = window.open(url, windowName, p);  } else {    var win = window.open(url, "ZyiisPopup", "top=" + y + ",left=" + x + ",scrollbars=" + scrollbars + ",dialog=yes,modal=yes,width=" + width + ",height=" + height + ",resizable=no" );    eval("try { win.resizeTo(width, height); } catch(e) { }");    win.focus();  }}
```

#### åˆ¤æ–­æ˜¯å¦ä¸ºå®¢æˆ·ç«¯è®¾å¤‡

```
function client(o){      var b = navigator.userAgent.toLowerCase();     var t = false;    if (o == 'isOP'){       t = b.indexOf('opera') > -1;    }    if (o == 'isIE'){       t = b.indexOf('msie') > -1;    }    if (o == 'isFF'){       t = b.indexOf('firefox') > -1;    }    return t;}
```

#### è·å–å•é€‰æŒ‰é’®çš„å€¼

```
function get_radio_value(field){  if(field&&field.length){      for(var i=0;i<field.length;i++){          if(field[i].checked){              return field[i].value;                      }          }      }else {        return ;          }  }
```

#### è·å–å¤é€‰æ¡†çš„å€¼

```
function get_checkbox_value(field){    if(field&&field.length){      for(var i=0;i<field.length;i++){            if(field[i].checked && !field[i].disabled){        return field[i].value;      }    }      }else {    return;  }      }
```

#### åˆ¤æ–­æ˜¯å¦ä¸ºé‚®ç®±

```
function isEmail(str){  var re=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;   if (re.test(str) != true) {    return false;  }else{    return true;  }  }
```

#### åˆ¤æ–­æ˜¯å¦æœ‰åˆ—è¡¨ä¸­çš„å±é™©å­—ç¬¦

```
function isValidReg(chars){  var re=/<|>|\[|\]|\{|\}|ã€|ã€|â€»|â—‹|â—|â—|Â§|â–³|â–²|â˜†|â˜…|â—‡|â—†|â–¡|â–¼|ãŠ£|ï¹‹|âŠ•|âŠ™|ã€’|ã„…|ã„†|ã„‡|ã„ˆ|ã„‰|ã„Š|ã„‹|ã„Œ|ã„|ã„|ã„|ã„|ã„‘|ã„’|ã„“|ã„”|ã„•|ã„–|ã„—|ã„˜|ã„™|ã„š|ã„›|ã„œ|ã„|ã„|ã„Ÿ|ã„¢|ã„£|ã„¤|ã„¥|ã„¦|ã„§|ã„¨|ã„©|â– |â–„|â–†|\*|@|#|\^|\\/;  if (re.test( chars) == true) {    return false;  }else{    return true;  }  }
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å¤§äºè§„å®šçš„é•¿åº¦

```
function isValidLength(chars, len) {  if (chars.length < len) {    return false;  }  return true;}
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯ä¸ºç½‘å€ä¸åŒºåˆ†å¤§å°å†™

```
function isValidURL( chars ) {  var re=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(\S+\.\S+)$/;  if (!isNULL(chars)) {    chars = jsTrim(chars);    if (chars.match(re) == null)      return false;    else      return true;  }  return false;}
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå°æ•°

```
function isValidDecimal( chars ) {  var re=/^\d*\.?\d{1,2}$/;  if (chars.match(re) == null)    return false;  else    return true;}
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ•´æ•°

```
function isNumber( chars ) {  var re=/^\d*$/;  if (chars.match(re) == null)    return false;  else    return true;}
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæµ®ç‚¹æ•°

```
function isFloat( str ) {  for(i=0;i<str.length;i++) {    if ((str.charAt(i)<"0" || str.charAt(i)>"9")&& str.charAt(i) != '.'){      return false;    }  }  return true;}
```

#### åˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸ºA-Za-zè‹±æ–‡å­—æ¯

```
function isLetters( str ){  var re=/^[A-Za-z]+$/;  if (str.match(re) == null)    return false;  else    return true;}
```

#### åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦é‚®æ”¿ç¼–ç 

```
function isValidPost( chars ) {  var re=/^\d{6}$/;  if (chars.match(re) == null)    return false;  else    return true;}
```

#### åˆ¤æ–­å­—ç¬¦æ˜¯å¦ç©ºNULL

```
function isNULL( chars ) {  if (chars == null)    return true;  if (jsTrim(chars).length==0)    return true;  return false;}
```

#### ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–é¡µé¢ä»£ç ä¸­æ‰€æœ‰ç½‘å€

```
1 var aa = document.documentElement.outerHTML.match(/(url\(|src=|href=)[\"\']*([^\"\'\(\)\<\>\[\] ]+)[\"\'\)]*|(http:\/\/[\w\-\.]+[^\"\'\(\)\<\>\[\] ]+)/ig).join("\r\n").replace(/^(src=|href=|url\()[\"\']*|[\"\'\>\) ]*$/igm,"");2 alert(aa)
```

#### ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¸…é™¤ç›¸åŒçš„æ•°ç»„(ä½æ•ˆç‡)

```
1 Array.prototype.unique=function(){2   return this.reverse().join(",").match(/([^,]+)(?!.*\1)/ig).reverse();3 }
```

#### ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¸…é™¤ç›¸åŒçš„æ•°ç»„(é«˜æ•ˆç‡)

```
String.prototype.unique=function(){  var x=this.split(/[\r\n]+/);  var y='';  for(var i=0;i<x.length;i++){    if(!new RegExp("^"+x[i].replace(/([^\w])/ig,"\\$1")+"$","igm").test(y)){      y+=x[i]+"\r\n"    }  }  return y}
```

#### ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‰å­—æ¯æ’åºï¼Œå¯¹æ¯è¡Œè¿›è¡Œæ•°ç»„æ’åº

```
1 function SetSort(){2   var text=K1.value.split(/[\r\n]/).sort().join("\r\n");//é¡ºåº3   var test=K1.value.split(/[\r\n]/).sort().reverse().join("\r\n");//ååº4   K1.value=K1.value!=text?text:test;5 }
```

#### å­—ç¬¦ä¸²ååº

```
1 function IsReverse(text){2   return text.split('').reverse().join('');3 }
```

#### ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¸…é™¤htmlä»£ç ä¸­çš„è„šæœ¬

```
1 function clear_script(){2  K1.value=K1.value.replace(/,"");3 }
```

#### åŠ¨æ€æ‰§è¡ŒJavaScriptè„šæœ¬

```
function javascript(){  try{   eval(K1.value);  }catch(e){    alert(e.message);  }}
```

#### åŠ¨æ€æ‰§è¡ŒVBScriptè„šæœ¬

```
function vbscript(){  try{    var script=document.getElementById("K1").value;    if(script.trim()=="")return;    window.execScript('On Error Resume Next \n'+script+'\n If Err.Number<>0 Then \n MsgBox "è¯·è¾“å…¥æ­£ç¡®çš„VBScriptè„šæœ¬!",48,"è„šæœ¬é”™è¯¯!" \n End If',"vbscript")  }catch(e){    alert(e.message);  }}
```

#### å®ç°é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°

```
function transform(tranvalue) { try {  var i = 1;  var dw2 = new Array("", "ä¸‡", "äº¿"); //å¤§å•ä½  var dw1 = new Array("æ‹¾", "ä½°", "ä»Ÿ"); //å°å•ä½  var dw = new Array("é›¶", "å£¹", "è´°", "å", "è‚†", "ä¼", "é™†", "æŸ’", "æŒ", "ç–"); //æ•´æ•°éƒ¨åˆ†ç”¨  //ä»¥ä¸‹æ˜¯å°å†™è½¬æ¢æˆå¤§å†™æ˜¾ç¤ºåœ¨åˆè®¡å¤§å†™çš„æ–‡æœ¬æ¡†ä¸­     //åˆ†ç¦»æ•´æ•°ä¸å°æ•°  var source = splits(tranvalue);  var num = source[0];  var dig = source[1];  //è½¬æ¢æ•´æ•°éƒ¨åˆ†  var k1 = 0; //è®¡å°å•ä½  var k2 = 0; //è®¡å¤§å•ä½  var sum = 0;  var str = "";  var len = source[0].length; //æ•´æ•°çš„é•¿åº¦  for (i = 1; i <= len; i++) {   var n = source[0].charAt(len - i); //å–å¾—æŸä¸ªä½æ•°ä¸Šçš„æ•°å­—   var bn = 0;   if (len - i - 1 >= 0) {    bn = source[0].charAt(len - i - 1); //å–å¾—æŸä¸ªä½æ•°å‰ä¸€ä½ä¸Šçš„æ•°å­—   }   sum = sum + Number(n);   if (sum != 0) {    str = dw[Number(n)].concat(str); //å–å¾—è¯¥æ•°å­—å¯¹åº”çš„å¤§å†™æ•°å­—ï¼Œå¹¶æ’å…¥åˆ°strå­—ç¬¦ä¸²çš„å‰é¢    if (n == '0') sum = 0;   }   if (len - i - 1 >= 0) { //åœ¨æ•°å­—èŒƒå›´å†…    if (k1 != 3) { //åŠ å°å•ä½     if (bn != 0) {      str = dw1[k1].concat(str);     }     k1++;    } else { //ä¸åŠ å°å•ä½ï¼ŒåŠ å¤§å•ä½     k1 = 0;     var temp = str.charAt(0);     if (temp == "ä¸‡" || temp == "äº¿") //è‹¥å¤§å•ä½å‰æ²¡æœ‰æ•°å­—åˆ™èˆå»å¤§å•ä½     str = str.substr(1, str.length - 1);     str = dw2[k2].concat(str);     sum = 0;    }   }   if (k1 == 3) //å°å•ä½åˆ°åƒåˆ™å¤§å•ä½è¿›ä¸€   {    k2++;   }  }  //è½¬æ¢å°æ•°éƒ¨åˆ†  var strdig = "";  if (dig != "") {   var n = dig.charAt(0);   if (n != 0) {    strdig += dw[Number(n)] + "è§’"; //åŠ æ•°å­—   }   var n = dig.charAt(1);   if (n != 0) {    strdig += dw[Number(n)] + "åˆ†"; //åŠ æ•°å­—   }  }  str += "å…ƒ" + strdig; } catch(e) {  return "0å…ƒ"; } return str;}//æ‹†åˆ†æ•´æ•°ä¸å°æ•°function splits(tranvalue) { var value = new Array('', ''); temp = tranvalue.split("."); for (var i = 0; i < temp.length; i++) {  value[i] = temp[i]; } return value;}
```

#### å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å¤§æ”¶é›†

```
åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [\u4e00-\u9fa5] åŒ¹é…åŒå­—èŠ‚å­—ç¬¦ï¼ˆåŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼‰ï¼š[^\x00-\xff] åŒ¹é…ç©ºè¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\n[\s| ]*\råŒ¹é… HTML æ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š<(.*)>.*<\/\1>|<(.*)>åŒ¹é…é¦–å°¾ç©ºæ ¼çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š(^\s*)|(\s*$) åŒ¹é… IP åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š/(\d+)\.(\d+)\.(\d+)\.(\d+)/gåŒ¹é… Email åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*åŒ¹é…ç½‘å€ URL çš„æ­£åˆ™è¡¨è¾¾å¼ï¼šhttp://(/[\w-]+\.)+[\w-]+(/[\w- ./?%&=]*)?sql è¯­å¥ï¼š^(select|drop|delete|create|update|insert).*$ éè´Ÿæ•´æ•°ï¼š^\d+$ æ­£æ•´æ•°ï¼š^[0-9]*[1-9][0-9]*$ éæ­£æ•´æ•°ï¼š^((-\d+)|(0+))$ è´Ÿæ•´æ•°ï¼š^-[0-9]*[1-9][0-9]*$ æ•´æ•°ï¼š^-?\d+$ éè´Ÿæµ®ç‚¹æ•°ï¼š^\d+(\.\d+)?$ æ­£æµ®ç‚¹æ•°ï¼š^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$ éæ­£æµ®ç‚¹æ•°ï¼š^((-\d+\.\d+)?)|(0+(\.0+)?))$ è‹±æ–‡å­—ç¬¦ä¸²ï¼š^[A-Za-z]+$ è‹±æ–‡å¤§å†™ä¸²ï¼š^[A-Z]+$ è‹±æ–‡å°å†™ä¸²ï¼š^[a-z]+$ è‹±æ–‡å­—ç¬¦æ•°å­—ä¸²ï¼š^[A-Za-z0-9]+$ è‹±æ•°å­—åŠ ä¸‹åˆ’çº¿ä¸²ï¼š^\w+$ E-mailåœ°å€ï¼š^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$ URLï¼š^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$ æˆ–ï¼š^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$ é‚®æ”¿ç¼–ç ï¼š^[1-9]\d{5}$ ç”µè¯å·ç ï¼š^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$ æ‰‹æœºå·ç ï¼š^((\(\d{2,3}\))|(\d{3}\-))?13\d{9}$ åŒå­—èŠ‚å­—ç¬¦ï¼ˆåŒ…æ‹¬æ±‰å­—åœ¨å†…ï¼‰ï¼š^\x00-\xffåŒ¹é…é¦–å°¾ç©ºæ ¼ï¼š(^\s*)|(\s*$)åŒ¹é… HTML æ ‡è®°ï¼š<(.*)>.*<\/\1>|<(.*)> åŒ¹é…ç©ºè¡Œï¼š\n[\s| ]*\ræå–ä¿¡æ¯ä¸­çš„ç½‘ç»œé“¾æ¥ï¼š(h|H)(r|R)(e|E)(f|F) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)? æå–ä¿¡æ¯ä¸­çš„é‚®ä»¶åœ°å€ï¼š\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* æå–ä¿¡æ¯ä¸­çš„å›¾ç‰‡é“¾æ¥ï¼š(s|S)(r|R)(c|C) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)? æå–ä¿¡æ¯ä¸­çš„ IP åœ°å€ï¼š(\d+)\.(\d+)\.(\d+)\.(\d+) æå–ä¿¡æ¯ä¸­çš„ä¸­å›½æ‰‹æœºå·ç ï¼š(86)*0*13\d{9} æå–ä¿¡æ¯ä¸­çš„ä¸­å›½å›ºå®šç”µè¯å·ç ï¼š(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8} æå–ä¿¡æ¯ä¸­çš„ä¸­å›½ç”µè¯å·ç ï¼ˆåŒ…æ‹¬ç§»åŠ¨å’Œå›ºå®šç”µè¯ï¼‰ï¼š(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14} æå–ä¿¡æ¯ä¸­çš„ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]{1}(\d+){5} æå–ä¿¡æ¯ä¸­çš„æµ®ç‚¹æ•°ï¼ˆå³å°æ•°ï¼‰ï¼š(-?\d*)\.?\d+ æå–ä¿¡æ¯ä¸­çš„ä»»ä½•æ•°å­— ï¼š(-?\d*)(\.\d+)?IPï¼š(\d+)\.(\d+)\.(\d+)\.(\d+) ç”µè¯åŒºå·ï¼š^0\d{2,3}$è…¾è®¯ QQ å·ï¼š^[1-9]*[1-9][0-9]*$ å¸å·ï¼ˆå­—æ¯å¼€å¤´ï¼Œå…è®¸ 5-16 å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$ ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŠä¸‹åˆ’çº¿ï¼š^[\u4e00-\u9fa5_a-zA-Z0-9]+$
```

#### å®ç°çª—ä½“æ”¹å˜äº‹ä»¶resizeçš„æ“ä½œ

> å…¼å®¹æ‰€ä»¥çš„æµè§ˆå™¨

```
(function(){  var fn = function(){    var w = document.documentElement ? document.documentElement.clientWidth : document.body.clientWidth      ,r = 1255      ,b = Element.extend(document.body)      ,classname = b.className;    if(w < r){      //å½“çª—ä½“çš„å®½åº¦å°äº1255çš„æ—¶å€™æ‰§è¡Œç›¸åº”çš„æ“ä½œ    }else{      //å½“çª—ä½“çš„å®½åº¦å¤§äº1255çš„æ—¶å€™æ‰§è¡Œç›¸åº”çš„æ“ä½œ    }  }  if(window.addEventListener){    window.addEventListener('resize', function(){ fn(); });  }else if(window.attachEvent){    window.attachEvent('onresize', function(){ fn(); });  }  fn();})();
```

#### ç”¨æ­£åˆ™æ¸…é™¤ç©ºæ ¼åˆ†å·¦å³

```
1 function ltrim(s){ return s.replace( /^(\s*| *)/, ""); } 2 function rtrim(s){ return s.replace( /(\s*| *)$/, ""); } 3 function trim(s){ return ltrim(rtrim(s));} 
```

#### åˆ¤æ–­å˜é‡æ˜¯å¦ç©ºå€¼

```
/** * åˆ¤æ–­å˜é‡æ˜¯å¦ç©ºå€¼ * undefined, null, '', false, 0, [], {} å‡è¿”å›trueï¼Œå¦åˆ™è¿”å›false */function empty(v){  switch (typeof v){    case 'undefined' : return true;    case 'string'  : if(trim(v).length == 0) return true; break;    case 'boolean'  : if(!v) return true; break;    case 'number'  : if(0 === v) return true; break;    case 'object'  :       if(null === v) return true;      if(undefined !== v.length && v.length==0) return true;      for(var k in v){return false;} return true;      break;  }  return false;}
```

#### å®ç°base64è§£ç 

```
function base64_decode(data){  var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";  var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,ac = 0,dec = "",tmp_arr = [];  if (!data) { return data; }  data += '';  do {     h1 = b64.indexOf(data.charAt(i++));    h2 = b64.indexOf(data.charAt(i++));    h3 = b64.indexOf(data.charAt(i++));    h4 = b64.indexOf(data.charAt(i++));    bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;    o1 = bits >> 16 & 0xff;    o2 = bits >> 8 & 0xff;    o3 = bits & 0xff;    if (h3 == 64) {      tmp_arr[ac++] = String.fromCharCode(o1);    } else if (h4 == 64) {      tmp_arr[ac++] = String.fromCharCode(o1, o2);    } else {      tmp_arr[ac++] = String.fromCharCode(o1, o2, o3);    }  } while (i < data.length);  dec = tmp_arr.join('');  dec = utf8_decode(dec);  return dec;}
```

#### å®ç°utf8è§£ç 

```
function utf8_decode(str_data){  var tmp_arr = [],i = 0,ac = 0,c1 = 0,c2 = 0,c3 = 0;str_data += '';  while (i < str_data.length) {    c1 = str_data.charCodeAt(i);    if (c1 < 128) {      tmp_arr[ac++] = String.fromCharCode(c1);      i++;    } else if (c1 > 191 && c1 < 224) {          c2 = str_data.charCodeAt(i + 1);      tmp_arr[ac++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));      i += 2;    } else {      c2 = str_data.charCodeAt(i + 1);      c3 = str_data.charCodeAt(i + 2);      tmp_arr[ac++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));      i += 3;    }  }   return tmp_arr.join('');}
```

#### è·å–çª—ä½“å¯è§èŒƒå›´çš„å®½ä¸é«˜

```
function getViewSize(){  var de=document.documentElement;  var db=document.body;  var viewW=de.clientWidth==0 ? db.clientWidth : de.clientWidth;  var viewH=de.clientHeight==0 ? db.clientHeight : de.clientHeight;  return Array(viewW ,viewH);}
```

#### åˆ¤æ–­IEç‰ˆæœ¬å·

> ï¼ˆæ—¢ç®€æ´ã€åˆå‘åå…¼å®¹ï¼ï¼‰

```
var _IE = (function(){  var v = 3, div = document.createElement('div'), all = div.getElementsByTagName('i');  while (    div.innerHTML = '',    all[0]  );  return v > 4 ? v : false ;}());
```

#### è·å–æµè§ˆå™¨ç‰ˆæœ¬å·

```
function browserVersion(types) {  var other = 1;  for (i in types) {    var v = types[i] ? types[i] : i;    if (USERAGENT.indexOf(v) != -1) {      var re = new RegExp(v + '(\\/|\\s|:)([\\d\\.]+)', 'ig');      var matches = re.exec(USERAGENT);      var ver = matches != null ? matches[2] : 0;      other = ver !== 0 && v != 'mozilla' ? 0 : other;    } else {      var ver = 0;    }    eval('BROWSER.' + i + '= ver');  }  BROWSER.other = other;}
```

#### åŠè§’è½¬æ¢ä¸ºå…¨è§’å‡½æ•°

```
function ToDBC(str){ var result = ''; for(var i=0; i < str.length; i++){  code = str.charCodeAt(i);  if(code >= 33 && code <= 126){   result += String.fromCharCode(str.charCodeAt(i) + 65248);  }else if (code == 32){   result += String.fromCharCode(str.charCodeAt(i) + 12288 - 32);  }else{   result += str.charAt(i);  } } return result;}
```

#### å…¨è§’è½¬æ¢ä¸ºåŠè§’å‡½æ•°

```
function ToCDB(str){ var result = ''; for(var i=0; i < str.length; i++){  code = str.charCodeAt(i);  if(code >= 65281 && code <= 65374){   result += String.fromCharCode(str.charCodeAt(i) - 65248);  }else if (code == 12288){   result += String.fromCharCode(str.charCodeAt(i) - 12288 + 32);  }else{   result += str.charAt(i);  } } return result;
```

## ES6ç®€åŒ–ä»£ç æŠ€å·§

### å¼€å§‹ ï¼ˆèšç„¦ ES6ï¼‰

è¿™é‡Œå¼•ç”¨ `é˜®ä¸€å³°` è€å¸ˆçš„ `ES6æ ‡å‡†å…¥é—¨` ä¸€ä¹¦ä¸­çš„æ€»ç»“ï¼šES6 æ—¢æ˜¯ä¸€ä¸ªå†å²åè¯ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ 5.1 ç‰ˆæœ¬ä»¥åçš„ `JavaScript` çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† `ES2015ã€ES2016ã€ES2017`ç­‰ï¼Œè€Œ `ES2015` åˆ™æ˜¯æ­£å¼åç§°ï¼Œç‰¹æŒ‡å½“å¹´å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬çš„è¯­è¨€æ ‡å‡† å¸‚é¢ä¸Šæåˆ°çš„ ES6 ä¸€èˆ¬æ˜¯æŒ‡ `ES2015` æ ‡å‡†ï¼Œä½†æœ‰æ—¶ä¹Ÿæ˜¯æ³›æŒ‡ `ä¸‹ä¸€ä»£ JavaScript`

**æœ¬æ–‡ä¸»è¦è®²è§£ä»¥ä¸‹å†…å®¹:**

- å—çº§ä½œç”¨åŸŸï¼ˆBlock scopingï¼ŒES2015ï¼‰
- è§£æ„ï¼ˆDestructuringï¼ŒES2015ï¼‰
- ç®­å¤´å‡½æ•°ï¼ˆArrow Functionsï¼ŒES2015ï¼‰
- æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼ŒES2015ï¼‰
- å‰©ä½™å‚æ•° / å±•å¼€è¯­æ³•ï¼ˆRest and spread parametersï¼ŒES2015ï¼‰
- å¯¹è±¡å­—é¢é‡ç®€å†™è¯­æ³•ï¼ˆObject shorthandï¼ŒES2015ï¼‰
- æ•°ç»„å®ä¾‹çš„ includes() ï¼ˆES2016ï¼‰
- Async/await å¼‚æ­¥è¯­æ³• (ES2017)

#### å—çº§ä½œç”¨åŸŸ

ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸ?

ES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œè¿™å¯¼è‡´å¾ˆå¤šåœºæ™¯ä¸åˆç†ã€‚

- ç¬¬ä¸€ç§åœºæ™¯ï¼Œå†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ã€‚

```
var tmp = new Date()function fn() { console.log(tmp) if (false) {  var tmp = hello world }}fn() // undefinedå¤åˆ¶ä»£ç 
```

ä»¥ä¸Šä»£ç çš„åŸæ„æ˜¯ï¼Œ if ä»£ç å—çš„å¤–éƒ¨ä½¿ç”¨å¤–å±‚çš„ tmp å˜é‡ï¼Œå†…éƒ¨ä½¿ç”¨å†…å±‚çš„ tmp å˜é‡ã€‚ä½†æ˜¯ï¼Œå‡½æ•° `fn` æ‰§è¡Œåï¼Œè¾“å‡ºç»“æœä¸º `undefined` ï¼ŒåŸå› åœ¨äºå˜é‡æå‡å¯¼è‡´å†…å±‚çš„ tmp å˜é‡è¦†ç›–äº†å¤–å±‚çš„ tmp å˜é‡ã€‚

- ç¬¬äºŒç§åœºæ™¯ï¼Œç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ã€‚

```
var s = hellofor (var i = O; i < s.length; i++) { console.log(s[i])}console.log(i) // 5å¤åˆ¶ä»£ç 
```

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå˜é‡ `i` åªç”¨æ¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯å¾ªç¯ç»“æŸåï¼Œå®ƒå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè€Œæ˜¯æ³„éœ²æˆäº†å…¨å±€å˜é‡ã€‚

`let` å®é™…ä¸Šä¸º `JavaScript` æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚

```
function fl() { let n = 5 if (true) {  let n = 10 } console.log(n) // 5}å¤åˆ¶ä»£ç 
```

ä¸Šé¢çš„å‡½æ•°æœ‰ä¸¤ä¸ªä»£ç å—ï¼Œéƒ½å£°æ˜äº†å˜é‡ `n`ï¼Œè¿è¡Œåè¾“å‡º `5` ã€‚è¿™è¡¨ç¤ºå¤–å±‚ä»£ç å—ä¸å—å†…å±‚ä»£ç å—çš„å½±å“ã€‚å¦‚æœä½¿ç”¨ `var` å®šä¹‰å˜é‡ ï¼Œæœ€åè¾“å‡ºçš„å€¼å°±æ˜¯ `10`

é‚£ä¹ˆæˆ‘ä»¬èƒ½åˆ©ç”¨`å—çº§ä½œç”¨åŸŸ`åšä»€ä¹ˆå‘¢ï¼Ÿ

æˆ‘ä»¬å…ˆæ¥åšé“é¢è¯•é¢˜

```
for (var i = 0; i < 5; i++) { setTimeout(() => {  console.log(i) }, 1000)}// 5 5 5 5 5å¤åˆ¶ä»£ç 
```

æ”¹æˆ `ES6` ä¸­çš„ let

```
for (let i = 0; i < 5; i++) { setTimeout(() => {  console.log(i) }, 1000)}// 0 1 2 3 4å¤åˆ¶ä»£ç 
```

çœ‹åˆ°è¿™ï¼Œç›¸ä¿¡èªæ˜çš„ä½ å·²ç»ç†è§£å—çº§ä½œç”¨åŸŸçš„å¥½å¤„äº† O(âˆ©_âˆ©)O

é‚£ä¹ˆ `ES5` èƒ½ä¸èƒ½å®ç° `å—çº§ä½œç”¨åŸŸ` çš„æ•ˆæœå‘¢? å¯ä»¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…

```
for (var i = 0; i < 5; i++) { ;(function (index) {  setTimeout(() => {   console.log(index)  }, 1000) })(i)}// 0 1 2 3 4å¤åˆ¶ä»£ç 
```

#### è§£æ„

> è§£æ„ ï¼šæ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„åˆ†è§£ä¸ºæ›´å°çš„éƒ¨åˆ†çš„è¿‡ç¨‹ã€‚ES6 ä¸­ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚

é‚£ä¹ˆè§£æ„æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿ

1. `å¯ä»¥å¤§å¤§çš„ç®€åŒ–å˜é‡å£°æ˜æ“ä½œã€‚`

```
// ES5var foo = 1var bar = 2var baz = 3// ES6let [foo, bar, baz] = [1, 2, 3]å¤åˆ¶ä»£ç 
```

1. `å˜é‡äº¤æ¢ï¼šçœ‹èµ·æ¥å¦‚åŒé•œåƒã€‚èµ‹å€¼è¯­å¥çš„å·¦ä¾§çš„è§£æ„æ¨¡å¼ï¼Œå³ä¾§æ˜¯ä¸´æ—¶åˆ›å»ºçš„æ•°ç»„å­—é¢é‡ã€‚x è¢«èµ‹å€¼ä¸ºæ•°ç»„ä¸­çš„ yï¼Œy è¢«èµ‹å€¼ä¸ºæ•°ç»„ä¸­çš„ xã€‚`

```
let x = 1let y = 2;[x, y] = [y, x]// x = 2, y = 1å¤åˆ¶ä»£ç 
```

1. `å¯¹è±¡è§£æ„`

```
var obj = { x: 1, y: 2, c: 1 }let { x, y } = obj// x = 1// y = 2å¤åˆ¶ä»£ç 
```

1. `å­—ç¬¦ä¸²è§£æ„`

```
const [a, b, c, d, e] = hello// a => h// b => e// c => l// d => l// e => oå¤åˆ¶ä»£ç 
```

1. `å‡½æ•°å‚æ•°è§£æ„`

```
const xueyue = { name: é›ªæœˆ , age: 18,}function getAge({ name, age }) { return `${name}ä»Šå¹´${age}å²`}getAge(xueyue) // é›ªæœˆä»Šå¹´18å²å¤åˆ¶ä»£ç 
```

#### ç®­å¤´å‡½æ•°

`ES6` å…è®¸ä½¿ç”¨ç®­å¤´ `=>` å®šä¹‰å‡½æ•°

```
var f = v => v// ç­‰åŒäº ES5 çš„var f = function (v) { return v}å¤åˆ¶ä»£ç 
```

å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨åœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚

```
var f = () => 5// ç­‰åŒäº ES5 çš„var f = function () { return 5}var sum = (numl, num2) => numl + num2// ç­‰åŒäº ES5 çš„var sum = function (numl, num2) { return numl + num2}å¤åˆ¶ä»£ç 
```

ç®­å¤´å‡½æ•°å¯ä»¥ä¸è§£æ„ç»“åˆä½¿ç”¨ã€‚

```
const full = ({ first , last }) => first +   + last;// ç­‰åŒäº ES5 çš„function full(person) { return person.first +   + person.last;}å¤åˆ¶ä»£ç 
```

ç®­å¤´å‡½æ•°ä½¿å¾—è¡¨è¾¾æ›´åŠ ç®€æ´

```
const isEven = n => n % 2 === 0const square = n => n * nvar result = values.sort((a, b) => a - b)// ç­‰åŒäº ES5 çš„var result = values.sort(function (a, b) { return a - b})å¤åˆ¶ä»£ç 
```

ä¸Šé¢ä»£ç åªç”¨äº†ä¸¤è¡Œï¼Œå°±å®šä¹‰äº†ä¸¤ä¸ªç®€å•çš„å·¥å…·å‡½æ•°ã€‚å¦‚æœä¸ç”¨ç®­å¤´å‡½æ•°ï¼Œå¯èƒ½å°±è¦å ç”¨å¤šè¡Œï¼Œè€Œä¸”è¿˜ä¸å¦‚ç°åœ¨è¿™æ ·å†™é†’ç›®ã€‚

**ç®­å¤´å‡½æ•°ä½¿ç”¨æ³¨æ„ç‚¹**

1. å‡½æ•°ä½“å†…çš„ `this` å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚
2. ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨ `new` å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚
3. ä¸å¯ä»¥ä½¿ç”¨ `arguments` å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ `rest` å‚æ•°ä»£æ›¿ã€‚
4. ä¸å¯ä»¥ä½¿ç”¨ `yield` å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ `Generator` å‡½æ•°ã€‚

ä¸Šé¢å››ç‚¹ä¸­ï¼Œç¬¬ä¸€ç‚¹å°¤å…¶å€¼å¾—æ³¨æ„ã€‚`this` å¯¹è±¡çš„æŒ‡å‘æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œå®ƒæ˜¯å›ºå®šçš„ã€‚

```
// ES6function foo() { setTimeout(() => {  console.log( id: , this.id) }, 100)}// è½¬æ¢æˆES5function foo() { var _this = this setTimeout(function () {  console.log( id: , _this.id) }, 100)}å¤åˆ¶ä»£ç 
```

ä¸Šé¢ä»£ç ä¸­ï¼Œè½¬æ¢åçš„ `ES5` ç‰ˆæœ¬æ¸…æ¥šåœ°è¯´æ˜äº†ï¼Œç®­å¤´å‡½æ•°é‡Œé¢æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„ `this`ï¼Œè€Œæ˜¯å¼•ç”¨å¤–å±‚çš„ `this`ã€‚

#### æ¨¡æ¿å­—ç¬¦ä¸²

> æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆ template string ï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸² ï¼Œç”¨åå¼•å· `(``)` æ ‡è¯† ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚

```
const { log } = consoleconst name = é›ªæœˆconst age = 18// æ™®é€šå­—ç¬¦ä¸²æ‹¼æ¥const result = name + ä»Šå¹´ + age + å²// ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²const result2 = `${name}ä»Šå¹´${age}å²`log(result) // é›ªæœˆä»Šå¹´18å²log(result2) // é›ªæœˆä»Šå¹´18å²// ${} å¤§æ‹¬å·å¯ä»¥æ”¾å…¥ä»»æ„çš„ JavaScript è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—const result3 = `${name}ä»Šå¹´${age * 2}å²`log(result3) // é›ªæœˆä»Šå¹´36å²å¤åˆ¶ä»£ç 
```

#### å‰©ä½™å‚æ•° / å±•å¼€è¯­æ³•

ES6 å¼•å…¥äº† rest å‚æ•°ï¼ˆå½¢å¼ä¸º`...å˜é‡å`ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨ `arguments` å¯¹è±¡äº†ã€‚`rest` å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥å…¶ä¸­ã€‚

```
function sortNumbers() { return Array.prototype.slice.call(arguments).sort()}// ä½¿ç”¨ restconst sortNumbers = (...numbers) => numbers.sort()å¤åˆ¶ä»£ç 
```

æ¯”è¾ƒä¸Šé¢çš„ä¸¤ç§å†™æ³•å¯ä»¥å‘ç°ï¼Œ `rest` å‚æ•°çš„å†™æ³•æ›´è‡ªç„¶ä¹Ÿæ›´ç®€æ´ã€‚

æ‰©å±•è¿ç®—ç¬¦ï¼ˆ `spread` ï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆ...ï¼‰ å¦‚åŒ `rest` å‚æ•°çš„é€†è¿ç®— å°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—

```
console.log(...[1, 2, 3])// 1 2 3console.log(1, ...[2, 3, 4], 5)// 1 2 3 4 5å¤åˆ¶ä»£ç 
```

ä¸‹é¢æ˜¯æ‰©å±•è¿ç®—ç¬¦å–ä»£ `apply` æ–¹æ³•çš„ä¸€ä¸ªå®é™…ä¾‹å­ åº”ç”¨ `Math.max` æ–¹æ³•ç®€åŒ–æ±‚å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ ã€‚

```
// ESS çš„å†™æ³•Math.max.apply(null, [14, 3, 77])// ES6 çš„å†™æ³•Math.max(...[14, 3, 77])// ç­‰åŒäºMath.max(14, 3, 77)å¤åˆ¶ä»£ç 
```

æ‰©å±•è¿ç®—ç¬¦æä¾›äº†æ•°ç»„åˆå¹¶çš„æ–°å†™æ³•ã€‚

```
// ESS;[1, 2].concat(more)// ES6;[1, 2, ...more]å¤åˆ¶ä»£ç 
```

å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ç”¨äºå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­ã€‚

```
let z = { a: 3, b: bb }let n = { ...z }n // { a: 3, b: bb  }n === z // falseå¤åˆ¶ä»£ç 
```

**ç‰¹åˆ«æ³¨æ„ï¼š** `...`æ‰©å±•å¯¹è±¡ï¼Œåªèƒ½åšåˆ°å½“å¯¹è±¡å±æ€§æ˜¯ `åŸºæœ¬æ•°æ®ç±»å‹` æ‰æ˜¯ `æ·±æ‹·è´`ï¼Œå¦‚æœæ˜¯ `å¼•ç”¨æ•°æ®ç±»å‹`ï¼Œé‚£å°±æ˜¯`æµ…æ‹·è´`ã€‚

```
let z = { a: 3, b: bb , c: { name: ccc } }let n = { ...z }n // { a: 3, b: bb , c: { name: ccc  } }n === z // falsen.c === z.c // true// n.c è·Ÿ z.c æ˜¯åŒä¸€ä¸ªå¼•ç”¨åœ°å€å¤åˆ¶ä»£ç 
```

#### å¯¹è±¡å­—é¢é‡ç®€å†™è¯­æ³•

```
const name = é›ªæœˆ// ES5å†™æ³•const obj = { name: name, f: function () {  console.log(this.name) },}// ES6ç®€å†™const obj2 = { name, f() {  console.log(this.name) },}obj.f() // é›ªæœˆobj2.f() // é›ªæœˆå¤åˆ¶ä»£ç 
```

ä½¿ç”¨ `vue` çš„åŒå­¦æ˜¯ä¸æ˜¯æ„Ÿåˆ°å¾ˆç†Ÿæ‚‰

```
new Vue({ el: #app , data() {  return {   list: [],  } },})å¤åˆ¶ä»£ç 
```

#### æ•°ç»„å®ä¾‹çš„ includes()

Array.prototype.includes æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„ includes æ–¹æ³•ç±»ä¼¼ã€‚ES2016 å¼•å…¥äº†è¯¥æ–¹æ³•ã€‚

```
;[1, 2, 3].includes(2) // true;[1, 2, 3].includes(4) // false;[1, 2, NaN].includes(NaN) // trueå¤åˆ¶ä»£ç 
```

æ²¡æœ‰è¯¥æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ•°ç»„çš„ indexOf æ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€‚

```
// ES5if (arr.indexOf(el) !== -1) { // ...}// ES6if (arr.includes(el)) { // ...}// é‚£ä¹ˆ indexOf èƒ½ä¸èƒ½åšåˆ°ç±»ä¼¼äº includes çš„å†™æ³•å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ ~ ä½è¿ç®—ç¬¦if (~arr.indexOf(el)) { // ...}å¤åˆ¶ä»£ç 
```

`indexOf` æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå®ƒçš„å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œæ‰€ä»¥è¦å»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äº-1ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚äºŒæ˜¯ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹ `NaN` çš„è¯¯åˆ¤ã€‚

```
;[NaN].indexOf(NaN)// -1å¤åˆ¶ä»£ç 
```

`includes` ä½¿ç”¨çš„æ˜¯ä¸ä¸€æ ·çš„åˆ¤æ–­ç®—æ³•ï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜

```
;[NaN].includes(NaN)// trueå¤åˆ¶ä»£ç 
```

#### Async/await å¼‚æ­¥è¯­æ³•

`ES2017` æ ‡å‡†å¼•å…¥äº† `async` å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚

`async` å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯ï¼Œå®ƒå°±æ˜¯ `Generator` å‡½æ•°çš„è¯­æ³•ç³–ã€‚

```
async function getTitle(url) { let response = await fetch(url) let html = await response.text() return html.match(//i)[1]}getTitle( https://tc39.github.io/ecma262/ ).then((res) => console.log(res))å¤åˆ¶ä»£ç 
```

ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° `getTitle` å†…éƒ¨æœ‰ä¸‰ä¸ªæ“ä½œï¼š`æŠ“å–ç½‘é¡µ`ã€`å–å‡ºæ–‡æœ¬`ã€`åŒ¹é…é¡µé¢æ ‡é¢˜`ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œ `then` æ–¹æ³•é‡Œé¢çš„ `console.log`

### ç»“æŸï¼ˆæ„çŠ¹æœªå°½ï¼‰

æ–‡ç« ä»‹ç»äº† `ES6` å¸¸ç”¨çš„ä¸€äº›è¯­æ³•ä»¥åŠä½¿ç”¨åœºæ™¯; ä½†æ˜¯ `ES6` å†…å®¹è¿œä¸æ­¢äºæ­¤ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å» `é˜®ä¸€å³°è€å¸ˆçš„` ES6 å…¥é—¨æ•™ç¨‹ ä¸€ä¹¦ä¸­æŸ¥çœ‹è¯¦ç»†å†…å®¹ã€‚å¦‚æœæ‚¨è®¤å¯è¿™æœ¬ä¹¦ï¼Œä¹Ÿå¯ä»¥å»æ­£ç‰ˆæ¸ é“è´­ä¹°ä¹¦ç±ã€‚è¿™æ ·å¯ä»¥ä½¿å‡ºç‰ˆç¤¾ä¸å› å‡ºç‰ˆå¼€æºä¹¦ç±è€Œäºé’±ï¼Œè¿›è€Œé¼“åŠ±æ›´å¤šçš„ä½œè€…å¼€æºè‡ªå·±çš„ä¹¦ç±ã€‚

### åè®°ï¼ˆåˆ—ä¸¾APIï¼‰

è¿˜æœ‰å¾ˆå¤š `ES6` å®ç”¨çš„ `API` æˆ‘å°±ç®€å•æåŠä¸€ä¸‹ï¼Œæœ‹å‹ä»¬çœ‹çœ‹å¹³æ—¶æ˜¯å¦æœ‰ç”¨åˆ°

```
å¤åˆ¶ä»£ç 
}
;[1, 4, -5, 10].find(n => n < 0)// -5;[1, 5, 10, 15].findIndex((value, index, arr) => value > 9) // 2;[1, 2, [3, [4, 5]]].flat()// [1, 2, 3, [4, 5]];[1, 2, [3, [4, 5]]].flat(2)// [1, 2, 3, 4, 5];[3, 8, 54, 8, 3, NaN, NaN, NaN , NaN ].filter((number, index, arr) => arr.indexOf(number) === index)// [3, 8, 54, "NaN"] åˆ©ç”¨filterè¿‡æ»¤å»é‡ï¼Œæ³¨æ„ä¼šæ¼æ‰NaN;[1, 2, 3, 4].map((item) => item * 2)// [2, 4, 6, 8] åˆ©ç”¨mapè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„// ä½¿ç”¨ reduce æ±‚å’Œ; reduceåŠŸèƒ½æå…¶å¼ºå¤§ ! yyds;[0, 1, 2, 3, 4].reduce(function(accumulator, currentValue, currentIndex, array){ return accumulator + currentValue;}); // 10// ES2017 å¼•å…¥äº†è·Ÿ Object.keys é…å¥—çš„ Object.values å’Œ Object.entriesï¼Œä½œä¸ºéå†ä¸€ä¸ªå¯¹è±¡çš„è¡¥å……æ‰‹æ®µï¼Œ// ä¾› for...of å¾ªç¯ä½¿ç”¨ã€‚let { keys, values, entries } = Object;let obj = { a: 1, b: 2, c: 3 };for (let key of keys(obj)) { console.log(key); // a , b , c}for (let value of values(obj)) { console.log(value); // 1, 2, 3}for (let [key, value] of entries(obj)) { console.log([key, value]); // [ a , 1], [ b , 2], [ c , 
```